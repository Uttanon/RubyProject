  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bucketitems"[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "bucketitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer NOT NULL, "bucketlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_bucketitems_on_bucketlib_id" ON "bucketitems" ("bucketlib_id")[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_bucketitems_on_item_id" ON "bucketitems" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bucketlibs"[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "bucketlibs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "quantity" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_bucketlibs_on_user_id" ON "bucketlibs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "favitems"[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "favitems" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer NOT NULL, "favlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_favitems_on_favlib_id" ON "favitems" ("favlib_id")[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_favitems_on_item_id" ON "favitems" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "favlibs"[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "favlibs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE INDEX "index_favlibs_on_user_id" ON "favlibs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "items"[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "price" float, "desc" varchar, "store_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_items_on_store_id" ON "items" ("store_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "itemtags"[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "itemtags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer NOT NULL, "taglib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_itemtags_on_item_id" ON "itemtags" ("item_id")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_itemtags_on_taglib_id" ON "itemtags" ("taglib_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orderlines"[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "orderlines" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "item_id" integer, "quantity" integer, "soldprice" integer, "order_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_orderlines_on_order_id" ON "orderlines" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "orders"[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "purdate" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "ratings"[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "comdate" date, "ratescore" float, "comment" varchar, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "store_id" integer NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_store_id" ON "ratings" ("store_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_user_id" ON "ratings" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "stores"[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "stores" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "address" varchar, "joindate" date, "rating" float, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "taglibs"[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "taglibs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "password_digest" varchar, "email" varchar, "name" varchar, "address" varchar, "phone" varchar, "gender" varchar, "birthdate" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abucketitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "bucketlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abucketitems_on_item_id" ON "abucketitems" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abucketitems_on_bucketlib_id" ON "abucketitems" ("bucketlib_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "abucketitems" ("id","item_id","bucketlib_id","created_at","updated_at")
                     SELECT "id","item_id","bucketlib_id","created_at","updated_at" FROM "bucketitems"[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "bucketitems"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bucketitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "bucketlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_fe8a096dc4"
FOREIGN KEY ("bucketlib_id")
  REFERENCES "bucketlibs" ("id")
)[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE INDEX "index_bucketitems_on_bucketlib_id" ON "bucketitems" ("bucketlib_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bucketitems_on_item_id" ON "bucketitems" ("item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "bucketitems" ("id","item_id","bucketlib_id","created_at","updated_at")
                     SELECT "id","item_id","bucketlib_id","created_at","updated_at" FROM "abucketitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abucketitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abucketitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "bucketlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abucketitems_on_item_id" ON "abucketitems" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abucketitems_on_bucketlib_id" ON "abucketitems" ("bucketlib_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "abucketitems" ("id","item_id","bucketlib_id","created_at","updated_at")
                     SELECT "id","item_id","bucketlib_id","created_at","updated_at" FROM "bucketitems"[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "bucketitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bucketitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "bucketlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_fe8a096dc4"
FOREIGN KEY ("bucketlib_id")
  REFERENCES "bucketlibs" ("id")
, CONSTRAINT "fk_rails_ac338d1e64"
FOREIGN KEY ("item_id")
  REFERENCES "items" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bucketitems_on_bucketlib_id" ON "bucketitems" ("bucketlib_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bucketitems_on_item_id" ON "bucketitems" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "bucketitems" ("id","item_id","bucketlib_id","created_at","updated_at")
                     SELECT "id","item_id","bucketlib_id","created_at","updated_at" FROM "abucketitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abucketitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abucketlibs" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "quantity" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abucketlibs_on_user_id" ON "abucketlibs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "abucketlibs" ("id","user_id","quantity","created_at","updated_at")
                     SELECT "id","user_id","quantity","created_at","updated_at" FROM "bucketlibs"[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "bucketlibs"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "bucketlibs" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "quantity" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_171def0856"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bucketlibs_on_user_id" ON "bucketlibs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("id","user_id","quantity","created_at","updated_at")
                     SELECT "id","user_id","quantity","created_at","updated_at" FROM "abucketlibs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abucketlibs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "favlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavitems_on_item_id" ON "afavitems" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavitems_on_favlib_id" ON "afavitems" ("favlib_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "afavitems" ("id","item_id","favlib_id","created_at","updated_at")
                     SELECT "id","item_id","favlib_id","created_at","updated_at" FROM "favitems"[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE "favitems"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "favitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "favlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ac234fcef1"
FOREIGN KEY ("favlib_id")
  REFERENCES "favlibs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favitems_on_favlib_id" ON "favitems" ("favlib_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favitems_on_item_id" ON "favitems" ("item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "favitems" ("id","item_id","favlib_id","created_at","updated_at")
                     SELECT "id","item_id","favlib_id","created_at","updated_at" FROM "afavitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afavitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "favlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavitems_on_item_id" ON "afavitems" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavitems_on_favlib_id" ON "afavitems" ("favlib_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "afavitems" ("id","item_id","favlib_id","created_at","updated_at")
                     SELECT "id","item_id","favlib_id","created_at","updated_at" FROM "favitems"[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE "favitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "favitems" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "favlib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ac234fcef1"
FOREIGN KEY ("favlib_id")
  REFERENCES "favlibs" ("id")
, CONSTRAINT "fk_rails_212e0436b6"
FOREIGN KEY ("item_id")
  REFERENCES "items" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favitems_on_favlib_id" ON "favitems" ("favlib_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favitems_on_item_id" ON "favitems" ("item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "favitems" ("id","item_id","favlib_id","created_at","updated_at")
                     SELECT "id","item_id","favlib_id","created_at","updated_at" FROM "afavitems"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afavitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afavlibs" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afavlibs_on_user_id" ON "afavlibs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "afavlibs" ("id","user_id","created_at","updated_at")
                     SELECT "id","user_id","created_at","updated_at" FROM "favlibs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "favlibs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "favlibs" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a6c39aaa7d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_favlibs_on_user_id" ON "favlibs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "favlibs" ("id","user_id","created_at","updated_at")
                     SELECT "id","user_id","created_at","updated_at" FROM "afavlibs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "afavlibs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aitems" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "price" float DEFAULT NULL, "desc" varchar DEFAULT NULL, "store_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aitems_on_store_id" ON "aitems" ("store_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aitems" ("id","name","price","desc","store_id","created_at","updated_at")
                     SELECT "id","name","price","desc","store_id","created_at","updated_at" FROM "items"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "items" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "price" float DEFAULT NULL, "desc" varchar DEFAULT NULL, "store_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e1affc3556"
FOREIGN KEY ("store_id")
  REFERENCES "stores" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_items_on_store_id" ON "items" ("store_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "items" ("id","name","price","desc","store_id","created_at","updated_at")
                     SELECT "id","name","price","desc","store_id","created_at","updated_at" FROM "aitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aitems"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aitemtags" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "taglib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aitemtags_on_taglib_id" ON "aitemtags" ("taglib_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aitemtags_on_item_id" ON "aitemtags" ("item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aitemtags" ("id","item_id","taglib_id","created_at","updated_at")
                     SELECT "id","item_id","taglib_id","created_at","updated_at" FROM "itemtags"[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "itemtags"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "itemtags" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "taglib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b1c56b34b1"
FOREIGN KEY ("item_id")
  REFERENCES "items" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_itemtags_on_item_id" ON "itemtags" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_itemtags_on_taglib_id" ON "itemtags" ("taglib_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "itemtags" ("id","item_id","taglib_id","created_at","updated_at")
                     SELECT "id","item_id","taglib_id","created_at","updated_at" FROM "aitemtags"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aitemtags"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aitemtags" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "taglib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aitemtags_on_taglib_id" ON "aitemtags" ("taglib_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aitemtags_on_item_id" ON "aitemtags" ("item_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aitemtags" ("id","item_id","taglib_id","created_at","updated_at")
                     SELECT "id","item_id","taglib_id","created_at","updated_at" FROM "itemtags"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "itemtags"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "itemtags" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer NOT NULL, "taglib_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b1c56b34b1"
FOREIGN KEY ("item_id")
  REFERENCES "items" ("id")
, CONSTRAINT "fk_rails_8cac47926e"
FOREIGN KEY ("taglib_id")
  REFERENCES "taglibs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_itemtags_on_item_id" ON "itemtags" ("item_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_itemtags_on_taglib_id" ON "itemtags" ("taglib_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "itemtags" ("id","item_id","taglib_id","created_at","updated_at")
                     SELECT "id","item_id","taglib_id","created_at","updated_at" FROM "aitemtags"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aitemtags"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorderlines" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer DEFAULT NULL, "quantity" integer DEFAULT NULL, "soldprice" integer DEFAULT NULL, "order_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorderlines_on_order_id" ON "aorderlines" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aorderlines" ("id","item_id","quantity","soldprice","order_id","created_at","updated_at")
                     SELECT "id","item_id","quantity","soldprice","order_id","created_at","updated_at" FROM "orderlines"[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "orderlines"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "orderlines" ("id" integer NOT NULL PRIMARY KEY, "item_id" integer DEFAULT NULL, "quantity" integer DEFAULT NULL, "soldprice" integer DEFAULT NULL, "order_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0c0a821710"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orderlines_on_order_id" ON "orderlines" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "orderlines" ("id","item_id","quantity","soldprice","order_id","created_at","updated_at")
                     SELECT "id","item_id","quantity","soldprice","order_id","created_at","updated_at" FROM "aorderlines"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aorderlines"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aorders" ("id" integer NOT NULL PRIMARY KEY, "purdate" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aorders_on_user_id" ON "aorders" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aorders" ("id","purdate","created_at","updated_at","user_id")
                     SELECT "id","purdate","created_at","updated_at","user_id" FROM "orders"[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "orders"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer NOT NULL PRIMARY KEY, "purdate" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_orders_on_user_id" ON "orders" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "orders" ("id","purdate","created_at","updated_at","user_id")
                     SELECT "id","purdate","created_at","updated_at","user_id" FROM "aorders"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aorders"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aratings" ("id" integer NOT NULL PRIMARY KEY, "comdate" date DEFAULT NULL, "ratescore" float DEFAULT NULL, "comment" varchar DEFAULT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "store_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aratings_on_user_id" ON "aratings" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aratings_on_store_id" ON "aratings" ("store_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aratings" ("id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id")
                     SELECT "id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id" FROM "ratings"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "ratings"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer NOT NULL PRIMARY KEY, "comdate" date DEFAULT NULL, "ratescore" float DEFAULT NULL, "comment" varchar DEFAULT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "store_id" integer NOT NULL, CONSTRAINT "fk_rails_62fbf447b1"
FOREIGN KEY ("store_id")
  REFERENCES "stores" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_store_id" ON "ratings" ("store_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_user_id" ON "ratings" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "ratings" ("id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id")
                     SELECT "id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id" FROM "aratings"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aratings"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aratings" ("id" integer NOT NULL PRIMARY KEY, "comdate" date DEFAULT NULL, "ratescore" float DEFAULT NULL, "comment" varchar DEFAULT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "store_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aratings_on_user_id" ON "aratings" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aratings_on_store_id" ON "aratings" ("store_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aratings" ("id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id")
                     SELECT "id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id" FROM "ratings"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "ratings"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ratings" ("id" integer NOT NULL PRIMARY KEY, "comdate" date DEFAULT NULL, "ratescore" float DEFAULT NULL, "comment" varchar DEFAULT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "store_id" integer NOT NULL, CONSTRAINT "fk_rails_62fbf447b1"
FOREIGN KEY ("store_id")
  REFERENCES "stores" ("id")
, CONSTRAINT "fk_rails_a7dfeb9f5f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_store_id" ON "ratings" ("store_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_ratings_on_user_id" ON "ratings" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "ratings" ("id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id")
                     SELECT "id","comdate","ratescore","comment","user_id","created_at","updated_at","store_id" FROM "aratings"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aratings"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (7.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20211213054941)[0m
  [1m[35m (6.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20211209064059),
(20211209141842),
(20211209160931),
(20211210061533),
(20211212100825),
(20211212134656),
(20211212134830),
(20211212145507),
(20211212145619),
(20211212155124),
(20211212155300),
(20211212184746),
(20211212185003),
(20211212185306),
(20211213044156);

[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-12-13 06:52:51.959808"], ["updated_at", "2021-12-13 06:52:51.959808"]]
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "791e415c1b64bbc73b440c8e11c25a3a64bb260b"], ["created_at", "2021-12-13 06:52:51.970076"], ["updated_at", "2021-12-13 06:52:51.970076"]]
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.3ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:05:08.579833', '2021-12-13 07:05:08.579833');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:05:08.579833', '2021-12-13 07:05:08.579833');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:05:08.580841', '2021-12-13 07:05:08.580841');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:05:08.581512', '2021-12-13 07:05:08.581512');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:05:08.581512', '2021-12-13 07:05:08.581512');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:05:08.582083', '2021-12-13 07:05:08.582083');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:05:08.582083', '2021-12-13 07:05:08.582083');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:05:08.582562', '2021-12-13 07:05:08.582562');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:05:08.582562', '2021-12-13 07:05:08.582562');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:05:08.583174', '2021-12-13 07:05:08.583174');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:05:08.583174', '2021-12-13 07:05:08.583174');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:05:08.583654', '2021-12-13 07:05:08.583654');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:05:08.583654', '2021-12-13 07:05:08.583654');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at") VALUES (1, '2021-12-13', '2021-12-13 07:05:08.584401', '2021-12-13 07:05:08.584401');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at") VALUES (2, '2021-12-13', '2021-12-13 07:05:08.584401', '2021-12-13 07:05:08.584401');
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:05:08.584889', '2021-12-13 07:05:08.584889', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:05:08.584889', '2021-12-13 07:05:08.584889', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:05:08.585501', '2021-12-13 07:05:08.585501');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:05:08.585501', '2021-12-13 07:05:08.585501');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:05:08.586073', '2021-12-13 07:05:08.586073');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:05:08.586073', '2021-12-13 07:05:08.586073');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$7qh6kUrE4BtN2DYDLraP4eFZb.1vbh/NqIg3pQeMJY1BiKccnInAe', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:05:08.598974', '2021-12-13 07:05:08.598974');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$wmT6KXJhXEgHmLAGNDkyrOrN6bmw350vt0vWewpssBp2scg4QyHX.', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:05:08.598974', '2021-12-13 07:05:08.598974');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$kObUJISfk.a1A4p/BgnTEuyCq0BRYmRsnOR1vWpfHP9keqjLVZvCe', '2021-12-13 07:05:08.598974', '2021-12-13 07:05:08.598974')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.4ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:05:47.716372', '2021-12-13 07:05:47.716372');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:05:47.716372', '2021-12-13 07:05:47.716372');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:05:47.717240', '2021-12-13 07:05:47.717240');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:05:47.717781', '2021-12-13 07:05:47.717781');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:05:47.717781', '2021-12-13 07:05:47.717781');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:05:47.718304', '2021-12-13 07:05:47.718304');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:05:47.718304', '2021-12-13 07:05:47.718304');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:05:47.726106', '2021-12-13 07:05:47.726106');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:05:47.726106', '2021-12-13 07:05:47.726106');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:05:47.726972', '2021-12-13 07:05:47.726972');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:05:47.726972', '2021-12-13 07:05:47.726972');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:05:47.727518', '2021-12-13 07:05:47.727518');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:05:47.727518', '2021-12-13 07:05:47.727518');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:05:47.728091', '2021-12-13 07:05:47.728091', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:05:47.728091', '2021-12-13 07:05:47.728091', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:05:47.728678', '2021-12-13 07:05:47.728678', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:05:47.728678', '2021-12-13 07:05:47.728678', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:05:47.729252', '2021-12-13 07:05:47.729252');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:05:47.729252', '2021-12-13 07:05:47.729252');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:05:47.730611', '2021-12-13 07:05:47.730611');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:05:47.730611', '2021-12-13 07:05:47.730611');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$T8PQD79.4Nnh/ZjTVIn8eOHjJ52T/x8IfKCzzKPmNcApLG2bisC2W', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:05:47.731081', '2021-12-13 07:05:47.731081');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$zyMTla8Oz.rV5JbH8/EKX.2n.htAA2HyO1fd8wA6Vwd8jroZjyHU.', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:05:47.731081', '2021-12-13 07:05:47.731081');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$KB1RT9kso7g2t14Sgz34AOGT7ixyeiNBB0KozVptBt7YblI.Lvi.W', '2021-12-13 07:05:47.731081', '2021-12-13 07:05:47.731081')[0m
  [1m[36mTRANSACTION (20.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:05:51 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 49.7ms | Allocations: 16028)
  Rendered layout layouts/application.html.erb (Duration: 252.4ms | Allocations: 28419)
Completed 500 Internal Server Error in 276ms (ActiveRecord: 0.0ms | Allocations: 32193)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.9ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:06:39.609906', '2021-12-13 07:06:39.609906');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:06:39.609906', '2021-12-13 07:06:39.609906');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:06:39.614005', '2021-12-13 07:06:39.614005');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:06:39.614899', '2021-12-13 07:06:39.614899');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:06:39.614899', '2021-12-13 07:06:39.614899');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:06:39.615399', '2021-12-13 07:06:39.615399');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:06:39.615399', '2021-12-13 07:06:39.615399');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:06:39.615889', '2021-12-13 07:06:39.615889');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:06:39.615889', '2021-12-13 07:06:39.615889');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:06:39.616459', '2021-12-13 07:06:39.616459');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:06:39.616459', '2021-12-13 07:06:39.616459');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:06:39.616994', '2021-12-13 07:06:39.616994');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:06:39.616994', '2021-12-13 07:06:39.616994');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:06:39.617516', '2021-12-13 07:06:39.617516', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:06:39.617516', '2021-12-13 07:06:39.617516', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:06:39.618037', '2021-12-13 07:06:39.618037', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:06:39.618037', '2021-12-13 07:06:39.618037', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:06:39.618665', '2021-12-13 07:06:39.618665');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:06:39.618665', '2021-12-13 07:06:39.618665');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:06:39.619217', '2021-12-13 07:06:39.619217');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:06:39.619217', '2021-12-13 07:06:39.619217');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$oqZ0E.gJwzi1jk06cbRyBObcfHNi0rUaulrKpxgY3jz6SfTByjs5G', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:06:39.619697', '2021-12-13 07:06:39.619697');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$5Tn3jwv1Qx3U2bvo9NV/T.N4B8BUlk9HL/J7hza1K85tl2TYd6jHS', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:06:39.619697', '2021-12-13 07:06:39.619697');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$NfkZd2RdIADmTpvC/.DVt.qnHbMQJy2BHnICa1cUFoCmtP0D23RJi', '2021-12-13 07:06:39.619697', '2021-12-13 07:06:39.619697')[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:06:43 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 59.4ms | Allocations: 16029)
  Rendered layout layouts/application.html.erb (Duration: 67.1ms | Allocations: 21962)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 0.0ms | Allocations: 25736)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.9ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:08:56.000235', '2021-12-13 07:08:56.000235');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:08:56.000235', '2021-12-13 07:08:56.000235');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:08:56.001161', '2021-12-13 07:08:56.001161');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:08:56.001710', '2021-12-13 07:08:56.001710');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:08:56.001710', '2021-12-13 07:08:56.001710');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:08:56.002218', '2021-12-13 07:08:56.002218');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:08:56.002218', '2021-12-13 07:08:56.002218');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:08:56.002707', '2021-12-13 07:08:56.002707');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:08:56.002707', '2021-12-13 07:08:56.002707');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:08:56.003278', '2021-12-13 07:08:56.003278');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:08:56.003278', '2021-12-13 07:08:56.003278');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:08:56.004848', '2021-12-13 07:08:56.004848');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:08:56.004848', '2021-12-13 07:08:56.004848');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:08:56.005446', '2021-12-13 07:08:56.005446', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:08:56.005446', '2021-12-13 07:08:56.005446', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:08:56.006090', '2021-12-13 07:08:56.006090', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:08:56.006090', '2021-12-13 07:08:56.006090', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:08:56.006706', '2021-12-13 07:08:56.006706');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:08:56.006706', '2021-12-13 07:08:56.006706');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:08:56.007267', '2021-12-13 07:08:56.007267');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:08:56.007267', '2021-12-13 07:08:56.007267');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$0P9hMBTAmyjhJr2oz1khEeUH0Ysg/vDAsFxyiRzS7NXq8FqBdTWAe', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:08:56.007809', '2021-12-13 07:08:56.007809');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$4W6bLYIrx12uQ6DaGeOOnu8oPtiMeIEGYsvEuwWPkJg32.6Dr3oMO', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:08:56.007809', '2021-12-13 07:08:56.007809');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$0EG41JrNkkPDsIDprspo.ur78jL6mWGM8mnka7fqgK1sP4SvpYC6S', '2021-12-13 07:08:56.007809', '2021-12-13 07:08:56.007809')[0m
  [1m[36mTRANSACTION (25.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:08:59 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 75.8ms | Allocations: 16028)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/uttanon/Project/public/packs-test
[Webpacker] Hash: 31b351f6be346d3a55f8
Version: webpack 4.46.0
Time: 1255ms
Built at: 12/13/2021 2:09:04 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-dd998cb6b794ecb7e8af.js    125 KiB  application  [emitted] [immutable]  application
js/application-dd998cb6b794ecb7e8af.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-dd998cb6b794ecb7e8af.js js/application-dd998cb6b794ecb7e8af.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 492 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

  Rendered layouts/_navbar.html.erb (Duration: 0.8ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 4327.3ms | Allocations: 37258)
Completed 200 OK in 4333ms (Views: 4328.6ms | ActiveRecord: 0.0ms | Allocations: 41086)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:09:04 +0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:09:36.037242', '2021-12-13 07:09:36.037242');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:09:36.037242', '2021-12-13 07:09:36.037242');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:09:36.038381', '2021-12-13 07:09:36.038381');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:09:36.038934', '2021-12-13 07:09:36.038934');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:09:36.038934', '2021-12-13 07:09:36.038934');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:09:36.055285', '2021-12-13 07:09:36.055285');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:09:36.055285', '2021-12-13 07:09:36.055285');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:09:36.055879', '2021-12-13 07:09:36.055879');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:09:36.055879', '2021-12-13 07:09:36.055879');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:09:36.056504', '2021-12-13 07:09:36.056504');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:09:36.056504', '2021-12-13 07:09:36.056504');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:09:36.057042', '2021-12-13 07:09:36.057042');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:09:36.057042', '2021-12-13 07:09:36.057042');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:09:36.057798', '2021-12-13 07:09:36.057798', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:09:36.057798', '2021-12-13 07:09:36.057798', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:09:36.058342', '2021-12-13 07:09:36.058342', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:09:36.058342', '2021-12-13 07:09:36.058342', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:09:36.058930', '2021-12-13 07:09:36.058930');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:09:36.058930', '2021-12-13 07:09:36.058930');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:09:36.059468', '2021-12-13 07:09:36.059468');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:09:36.059468', '2021-12-13 07:09:36.059468');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$cNed.TiiWonvdUOPNVs51O2WM1drIe69iEkrwNR.miTk88mX0e92i', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:09:36.059964', '2021-12-13 07:09:36.059964');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$CWtBAI/6TSZ70LK4Io59eu1A6qtLi9upGjzzBSnOW04XpPqUL8URq', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:09:36.059964', '2021-12-13 07:09:36.059964');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$wObGWaWCMHBIm3oLJ1.7aOG9wzXm1hkVt1Tb/Jjx8t/FqjUdw2bMK', '2021-12-13 07:09:36.059964', '2021-12-13 07:09:36.059964')[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:09:40 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 64.5ms | Allocations: 16028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 241.7ms | Allocations: 34488)
Completed 200 OK in 248ms (Views: 243.2ms | ActiveRecord: 0.0ms | Allocations: 38317)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:09:41 +0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.1ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:09:53.932070', '2021-12-13 07:09:53.932070');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:09:53.932070', '2021-12-13 07:09:53.932070');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:09:53.935243', '2021-12-13 07:09:53.935243');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:09:53.936004', '2021-12-13 07:09:53.936004');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:09:53.936004', '2021-12-13 07:09:53.936004');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:09:53.936646', '2021-12-13 07:09:53.936646');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:09:53.936646', '2021-12-13 07:09:53.936646');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:09:53.937126', '2021-12-13 07:09:53.937126');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:09:53.937126', '2021-12-13 07:09:53.937126');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:09:53.937934', '2021-12-13 07:09:53.937934');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:09:53.937934', '2021-12-13 07:09:53.937934');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:09:53.938578', '2021-12-13 07:09:53.938578');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:09:53.938578', '2021-12-13 07:09:53.938578');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:09:53.939336', '2021-12-13 07:09:53.939336', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:09:53.939336', '2021-12-13 07:09:53.939336', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:09:53.939845', '2021-12-13 07:09:53.939845', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:09:53.939845', '2021-12-13 07:09:53.939845', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:09:53.940417', '2021-12-13 07:09:53.940417');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:09:53.940417', '2021-12-13 07:09:53.940417');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:09:53.940954', '2021-12-13 07:09:53.940954');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:09:53.940954', '2021-12-13 07:09:53.940954');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$u9YkxgW2cbioV/hysJ0KseSO4P1IPHWOAtJgC22avA/EFVpjQFHpy', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:09:53.941554', '2021-12-13 07:09:53.941554');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$MxC1UX73RlQCMXj88295e.KEFAT8cRTb1WJFsbTDM9pPdhJ56Rt3m', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:09:53.941554', '2021-12-13 07:09:53.941554');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$YYqdPXAnmlswruYg.WRNRuflwKJhwvACwAlM8GtrtzKhwNG7OTBqO', '2021-12-13 07:09:53.941554', '2021-12-13 07:09:53.941554')[0m
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:09:57 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 24.9ms | Allocations: 16028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 175.3ms | Allocations: 34642)
Completed 200 OK in 192ms (Views: 176.8ms | ActiveRecord: 0.0ms | Allocations: 38471)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:09:58 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:09:59 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", ""], ["LIMIT", 1]]
  [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
Redirected to http://127.0.0.1:37259/login
Completed 302 Found in 24ms (ActiveRecord: 0.3ms | Allocations: 1256)
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:09:59 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1344)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 89)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 3507)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 4059)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:10:34.741430', '2021-12-13 07:10:34.741430');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:10:34.741430', '2021-12-13 07:10:34.741430');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:10:34.742419', '2021-12-13 07:10:34.742419');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:10:34.743007', '2021-12-13 07:10:34.743007');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:10:34.743007', '2021-12-13 07:10:34.743007');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:10:34.743506', '2021-12-13 07:10:34.743506');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:10:34.743506', '2021-12-13 07:10:34.743506');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:10:34.743995', '2021-12-13 07:10:34.743995');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:10:34.743995', '2021-12-13 07:10:34.743995');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:10:34.744650', '2021-12-13 07:10:34.744650');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:10:34.744650', '2021-12-13 07:10:34.744650');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:10:34.745180', '2021-12-13 07:10:34.745180');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:10:34.745180', '2021-12-13 07:10:34.745180');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:10:34.745743', '2021-12-13 07:10:34.745743', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:10:34.745743', '2021-12-13 07:10:34.745743', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:10:34.746245', '2021-12-13 07:10:34.746245', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:10:34.746245', '2021-12-13 07:10:34.746245', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:10:34.746855', '2021-12-13 07:10:34.746855');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:10:34.746855', '2021-12-13 07:10:34.746855');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:10:34.747434', '2021-12-13 07:10:34.747434');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:10:34.747434', '2021-12-13 07:10:34.747434');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$FBHmiov7bw2ThXRUFA3l4.TOGeI.haRrn2XCUzcwtNfVtYv7XLZ5u', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:10:34.747947', '2021-12-13 07:10:34.747947');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$JGBUilpDtNuFGatN/5.MeuNvlRDQtYd3Uc7nItXzPyMywvrCAST8q', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:10:34.747947', '2021-12-13 07:10:34.747947');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$Zt2ghZZOFHPrf0DxzHOAt.s9kgQhl22ijzb1ytvpgeMg5K/Lt2V1i', '2021-12-13 07:10:34.747947', '2021-12-13 07:10:34.747947')[0m
  [1m[36mTRANSACTION (21.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:10:38 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 93.0ms | Allocations: 16028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.7ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 225.5ms | Allocations: 34735)
Completed 200 OK in 245ms (Views: 226.9ms | ActiveRecord: 0.0ms | Allocations: 38563)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:10:39 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:10:40 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", ""], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44801/login
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1250)
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:10:40 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 17.2ms | Allocations: 1344)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 89)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 3507)
Completed 200 OK in 20ms (Views: 19.7ms | ActiveRecord: 0.0ms | Allocations: 4041)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.2ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:11:00.591014', '2021-12-13 07:11:00.591014');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:11:00.591014', '2021-12-13 07:11:00.591014');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:11:00.591892', '2021-12-13 07:11:00.591892');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:11:00.592422', '2021-12-13 07:11:00.592422');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:11:00.592422', '2021-12-13 07:11:00.592422');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2021-12-13 07:11:00.592949', '2021-12-13 07:11:00.592949');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:11:00.592949', '2021-12-13 07:11:00.592949');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:11:00.593474', '2021-12-13 07:11:00.593474');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:11:00.593474', '2021-12-13 07:11:00.593474');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:11:00.594034', '2021-12-13 07:11:00.594034');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:11:00.594034', '2021-12-13 07:11:00.594034');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:11:00.598421', '2021-12-13 07:11:00.598421');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:11:00.598421', '2021-12-13 07:11:00.598421');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:11:00.599519', '2021-12-13 07:11:00.599519', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:11:00.599519', '2021-12-13 07:11:00.599519', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:11:00.600413', '2021-12-13 07:11:00.600413', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:11:00.600413', '2021-12-13 07:11:00.600413', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:11:00.601346', '2021-12-13 07:11:00.601346');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:11:00.601346', '2021-12-13 07:11:00.601346');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:11:00.602281', '2021-12-13 07:11:00.602281');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:11:00.602281', '2021-12-13 07:11:00.602281');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$CH9PxfRyqSaHj04eBBQzMO6W3QmlR0ZikSjWBfvuBfEl9QIH1kpKa', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:11:00.603027', '2021-12-13 07:11:00.603027');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$bnSnwzlkUaUYd.QScFw8/.F0H1D1DJmRO1hjv4XIP6mJwIVdRw.mm', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:11:00.603027', '2021-12-13 07:11:00.603027');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$0gd.9vRcV0nPfUrFyePhW.opi7sf5gi.J0aLhIvukF8YR2/qsBsnS', '2021-12-13 07:11:00.603027', '2021-12-13 07:11:00.603027')[0m
  [1m[36mTRANSACTION (28.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:11:04 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 57.7ms | Allocations: 16028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 116.0ms | Allocations: 34805)
Completed 200 OK in 128ms (Views: 123.1ms | ActiveRecord: 0.0ms | Allocations: 38633)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:11:04 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:11:05 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:39751/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1310)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:11:05 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1239)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.1ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:12:26.627410', '2021-12-13 07:12:26.627410');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:12:26.627410', '2021-12-13 07:12:26.627410');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:12:26.628425', '2021-12-13 07:12:26.628425');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:12:26.629038', '2021-12-13 07:12:26.629038');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:12:26.629038', '2021-12-13 07:12:26.629038');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:12:26.629601', '2021-12-13 07:12:26.629601');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:12:26.629601', '2021-12-13 07:12:26.629601');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:12:26.634874', '2021-12-13 07:12:26.634874');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:12:26.634874', '2021-12-13 07:12:26.634874');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:12:26.635583', '2021-12-13 07:12:26.635583');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:12:26.635583', '2021-12-13 07:12:26.635583');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:12:26.636128', '2021-12-13 07:12:26.636128');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:12:26.636128', '2021-12-13 07:12:26.636128');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:12:26.636711', '2021-12-13 07:12:26.636711', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:12:26.636711', '2021-12-13 07:12:26.636711', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:12:26.637237', '2021-12-13 07:12:26.637237', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:12:26.637237', '2021-12-13 07:12:26.637237', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:12:26.638083', '2021-12-13 07:12:26.638083');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:12:26.638083', '2021-12-13 07:12:26.638083');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:12:26.638650', '2021-12-13 07:12:26.638650');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:12:26.638650', '2021-12-13 07:12:26.638650');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$iLpKcVd2BM6JUXRqmP4AxO69v71HW19ZS1YKvgReYPAiFzuzAKZA.', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:12:26.639103', '2021-12-13 07:12:26.639103');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$Wg4FzXxYD6hnxHnMABzP4uYsvum2Z2jt.Dl3NxlGsLXadzHeZB4r.', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:12:26.639103', '2021-12-13 07:12:26.639103');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$3VIICNzG1AFi2diIbb9SNOBGW/1mxX66w9jBBibqEzdMHEsqQ4hvK', '2021-12-13 07:12:26.639103', '2021-12-13 07:12:26.639103')[0m
  [1m[36mTRANSACTION (22.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:12:30 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 60.7ms | Allocations: 16028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 141.8ms | Allocations: 34872)
Completed 200 OK in 162ms (Views: 143.3ms | ActiveRecord: 0.0ms | Allocations: 38701)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:12:30 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:12:31 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (28.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:36619/user/a
Completed 302 Found in 32ms (ActiveRecord: 28.6ms | Allocations: 1312)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:12:32 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.2ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 27.7ms | Allocations: 4149)
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | Allocations: 4195)
Completed 500 Internal Server Error in 104ms (ActiveRecord: 1.2ms | Allocations: 21396)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.9ms)[0m  [1m[31mDELETE FROM "active_storage_attachments";
DELETE FROM "active_storage_blobs";
DELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "active_storage_attachments" ("id", "name", "record_type", "record_id", "blob_id", "created_at") VALUES (980190962, 'avatar', 'User', 1, 1, '2021-12-13 07:21:07.755638');
INSERT INTO "active_storage_blobs" ("id", "key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (1, '12345678', 'file.png', 'image/png', 'nil', 2000, '123456789012345678901234', '2021-12-13 07:21:07.756616');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:21:07.757411', '2021-12-13 07:21:07.757411');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:21:07.757411', '2021-12-13 07:21:07.757411');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:21:07.757976', '2021-12-13 07:21:07.757976');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:21:07.758499', '2021-12-13 07:21:07.758499');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:21:07.758499', '2021-12-13 07:21:07.758499');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:21:07.759066', '2021-12-13 07:21:07.759066');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:21:07.759066', '2021-12-13 07:21:07.759066');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:21:07.759706', '2021-12-13 07:21:07.759706');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:21:07.759706', '2021-12-13 07:21:07.759706');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:21:07.760327', '2021-12-13 07:21:07.760327');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:21:07.760327', '2021-12-13 07:21:07.760327');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:21:07.760869', '2021-12-13 07:21:07.760869');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:21:07.760869', '2021-12-13 07:21:07.760869');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:21:07.761398', '2021-12-13 07:21:07.761398', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:21:07.761398', '2021-12-13 07:21:07.761398', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:21:07.762004', '2021-12-13 07:21:07.762004', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:21:07.762004', '2021-12-13 07:21:07.762004', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:21:07.762559', '2021-12-13 07:21:07.762559');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:21:07.762559', '2021-12-13 07:21:07.762559');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:21:07.763185', '2021-12-13 07:21:07.763185');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:21:07.763185', '2021-12-13 07:21:07.763185');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$zbVxt/0HPkt84ij0acNEy.yN/vurpVvzUU3dGRaPCHCNZ1qMO9bxq', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:21:07.763645', '2021-12-13 07:21:07.763645');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$e6IurJDa8JMiWRIlK4hYIe11wmrWoaNtB4B.767ROeoP/EK8XQ1Ji', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:21:07.763645', '2021-12-13 07:21:07.763645');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$SMQ1bjivUWk1ooaFpYgnKuU9FuSSKOOyg.E6laawH9R9Z0rV5KE/u', '2021-12-13 07:21:07.763645', '2021-12-13 07:21:07.763645')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:23:44.904651', '2021-12-13 07:23:44.904651');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:23:44.904651', '2021-12-13 07:23:44.904651');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:23:44.905610', '2021-12-13 07:23:44.905610');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:23:44.906116', '2021-12-13 07:23:44.906116');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:23:44.906116', '2021-12-13 07:23:44.906116');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:23:44.906690', '2021-12-13 07:23:44.906690');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:23:44.906690', '2021-12-13 07:23:44.906690');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:23:44.907212', '2021-12-13 07:23:44.907212');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:23:44.907212', '2021-12-13 07:23:44.907212');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:23:44.907941', '2021-12-13 07:23:44.907941');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:23:44.907941', '2021-12-13 07:23:44.907941');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:23:44.908490', '2021-12-13 07:23:44.908490');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:23:44.908490', '2021-12-13 07:23:44.908490');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:23:44.909010', '2021-12-13 07:23:44.909010', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:23:44.909010', '2021-12-13 07:23:44.909010', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:23:44.909582', '2021-12-13 07:23:44.909582', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:23:44.909582', '2021-12-13 07:23:44.909582', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:23:44.910325', '2021-12-13 07:23:44.910325');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:23:44.910325', '2021-12-13 07:23:44.910325');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:23:44.910911', '2021-12-13 07:23:44.910911');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:23:44.910911', '2021-12-13 07:23:44.910911');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$rvQU7KuuRvt64Pb27mwYqOsZTetBuo7BQR1Q.Wsfev/FXzkkCZoja', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:23:44.911408', '2021-12-13 07:23:44.911408');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$CxyX.DxS9F0dCZXuGNozPuTEP.n6rY4vz8qqAWv/WHJNJw.xlRo.W', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:23:44.911408', '2021-12-13 07:23:44.911408');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$pBc44vla2n52C0UsZFTXNewuJYtw8FMKdA5Qyt.SDIIDvglOpbhTS', '2021-12-13 07:23:44.911408', '2021-12-13 07:23:44.911408')[0m
  [1m[36mTRANSACTION (22.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:23:48 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 20.2ms | Allocations: 16028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.7ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 66.4ms | Allocations: 34947)
Completed 200 OK in 87ms (Views: 67.7ms | ActiveRecord: 0.0ms | Allocations: 38776)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:23:48 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:23:50 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:43401/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1326)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:23:50 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 26.1ms | Allocations: 4149)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 4196)
Completed 500 Internal Server Error in 127ms (ActiveRecord: 1.0ms | Allocations: 21376)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (8.0ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:24:50.945185', '2021-12-13 07:24:50.945185');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:24:50.945185', '2021-12-13 07:24:50.945185');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:24:50.946211', '2021-12-13 07:24:50.946211');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:24:50.946803', '2021-12-13 07:24:50.946803');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:24:50.946803', '2021-12-13 07:24:50.946803');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:24:50.947391', '2021-12-13 07:24:50.947391');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:24:50.947391', '2021-12-13 07:24:50.947391');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:24:50.947895', '2021-12-13 07:24:50.947895');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:24:50.947895', '2021-12-13 07:24:50.947895');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:24:50.950015', '2021-12-13 07:24:50.950015');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:24:50.950015', '2021-12-13 07:24:50.950015');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:24:50.950549', '2021-12-13 07:24:50.950549');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:24:50.950549', '2021-12-13 07:24:50.950549');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:24:50.951104', '2021-12-13 07:24:50.951104', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:24:50.951104', '2021-12-13 07:24:50.951104', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:24:50.951617', '2021-12-13 07:24:50.951617', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:24:50.951617', '2021-12-13 07:24:50.951617', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:24:50.952255', '2021-12-13 07:24:50.952255');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:24:50.952255', '2021-12-13 07:24:50.952255');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:24:50.952802', '2021-12-13 07:24:50.952802');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:24:50.952802', '2021-12-13 07:24:50.952802');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$mT1BxzZdmDVhXN/tcJQ7eewA/tNVFqpWyAPsK/8baG9IE7Wi.1mHa', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:24:50.953312', '2021-12-13 07:24:50.953312');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$uSh8.HddDQKK7kL2FScIAOvRLEqfYI16HKnbk5SL8bbAO5WwsZTlK', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:24:50.953312', '2021-12-13 07:24:50.953312');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$pQ1rOkllqoQMMHKTdoXMCee0frQb.SMjeyzZhBj68UX3Hqfo8GnqW', '2021-12-13 07:24:50.953312', '2021-12-13 07:24:50.953312')[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:24:54 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 74.5ms | Allocations: 16029)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 9.9ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 153.8ms | Allocations: 35021)
Completed 200 OK in 165ms (Views: 160.4ms | ActiveRecord: 0.0ms | Allocations: 38849)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:24:54 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:24:56 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:35495/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1306)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:24:56 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 25.3ms | Allocations: 4182)
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 4228)
Completed 500 Internal Server Error in 147ms (ActiveRecord: 1.0ms | Allocations: 21357)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (4.2ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:26:23.495939', '2021-12-13 07:26:23.495939');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:26:23.495939', '2021-12-13 07:26:23.495939');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:26:23.496908', '2021-12-13 07:26:23.496908');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:26:23.497450', '2021-12-13 07:26:23.497450');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:26:23.497450', '2021-12-13 07:26:23.497450');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:26:23.510633', '2021-12-13 07:26:23.510633');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:26:23.510633', '2021-12-13 07:26:23.510633');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:26:23.511261', '2021-12-13 07:26:23.511261');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:26:23.511261', '2021-12-13 07:26:23.511261');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:26:23.511957', '2021-12-13 07:26:23.511957');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:26:23.511957', '2021-12-13 07:26:23.511957');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:26:23.512468', '2021-12-13 07:26:23.512468');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:26:23.512468', '2021-12-13 07:26:23.512468');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:26:23.513065', '2021-12-13 07:26:23.513065', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:26:23.513065', '2021-12-13 07:26:23.513065', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:26:23.513599', '2021-12-13 07:26:23.513599', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:26:23.513599', '2021-12-13 07:26:23.513599', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:26:23.514209', '2021-12-13 07:26:23.514209');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:26:23.514209', '2021-12-13 07:26:23.514209');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:26:23.514795', '2021-12-13 07:26:23.514795');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:26:23.514795', '2021-12-13 07:26:23.514795');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$MtBWdgZPit1X3G8hNkqbH.q3UTG1489EoTvwx80h.HGysx9VsSaIq', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:26:23.515261', '2021-12-13 07:26:23.515261');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$NnWpk86d4Xz0UHr305PuiuXCjcCHzCywDegvBtZjJBmhKAwyGtE3C', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:26:23.515261', '2021-12-13 07:26:23.515261');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$YT4rRKptFCdVwWGaxs9G8e7/U/rBayCNX1K6GkJD/McStzh9yUIuG', '2021-12-13 07:26:23.515261', '2021-12-13 07:26:23.515261')[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:26:27 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 96.1ms | Allocations: 16029)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.8ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 248.0ms | Allocations: 35086)
Completed 200 OK in 255ms (Views: 249.4ms | ActiveRecord: 0.0ms | Allocations: 38914)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:26:27 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:26:28 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:45797/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1328)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:26:28 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.8ms | Allocations: 742)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 2940)
Completed 200 OK in 100ms (Views: 3.2ms | ActiveRecord: 0.8ms | Allocations: 20092)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (4.7ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:27:29.396705', '2021-12-13 07:27:29.396705');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:27:29.396705', '2021-12-13 07:27:29.396705');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:27:29.409784', '2021-12-13 07:27:29.409784');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:27:29.410666', '2021-12-13 07:27:29.410666');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:27:29.410666', '2021-12-13 07:27:29.410666');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:27:29.411222', '2021-12-13 07:27:29.411222');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:27:29.411222', '2021-12-13 07:27:29.411222');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:27:29.411692', '2021-12-13 07:27:29.411692');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:27:29.411692', '2021-12-13 07:27:29.411692');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:27:29.412335', '2021-12-13 07:27:29.412335');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:27:29.412335', '2021-12-13 07:27:29.412335');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:27:29.412815', '2021-12-13 07:27:29.412815');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:27:29.412815', '2021-12-13 07:27:29.412815');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:27:29.413387', '2021-12-13 07:27:29.413387', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:27:29.413387', '2021-12-13 07:27:29.413387', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:27:29.413892', '2021-12-13 07:27:29.413892', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:27:29.413892', '2021-12-13 07:27:29.413892', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:27:29.414557', '2021-12-13 07:27:29.414557');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:27:29.414557', '2021-12-13 07:27:29.414557');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:27:29.415186', '2021-12-13 07:27:29.415186');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:27:29.415186', '2021-12-13 07:27:29.415186');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$gGT4ZNtD0zdm2u1grfMWt./lh3pkVCH8rTVwvRV7Ll0jNNu0QgKOa', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:27:29.415656', '2021-12-13 07:27:29.415656');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$VJQcAOqy7anjLhvAY7/4R./qfHykYCDVXCkUUmfn3ECD1689jIU3a', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:27:29.415656', '2021-12-13 07:27:29.415656');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$4u8fhN7jsbeZlUFndBsqIeI2E7Gvzkzey9Oux.pFPgp3hMX4pwra2', '2021-12-13 07:27:29.415656', '2021-12-13 07:27:29.415656')[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:27:33 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 55.3ms | Allocations: 16029)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.9ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 248.7ms | Allocations: 35166)
Completed 200 OK in 255ms (Views: 250.2ms | ActiveRecord: 0.0ms | Allocations: 38994)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:27:33 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:27:35 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:46173/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1314)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:27:35 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.8ms | Allocations: 764)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 2960)
Completed 200 OK in 114ms (Views: 3.4ms | ActiveRecord: 0.8ms | Allocations: 20098)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:28:52.780447', '2021-12-13 07:28:52.780447');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:28:52.780447', '2021-12-13 07:28:52.780447');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:28:52.781390', '2021-12-13 07:28:52.781390');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:28:52.781938', '2021-12-13 07:28:52.781938');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:28:52.781938', '2021-12-13 07:28:52.781938');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:28:52.782416', '2021-12-13 07:28:52.782416');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:28:52.782416', '2021-12-13 07:28:52.782416');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:28:52.786934', '2021-12-13 07:28:52.786934');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:28:52.786934', '2021-12-13 07:28:52.786934');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:28:52.787662', '2021-12-13 07:28:52.787662');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:28:52.787662', '2021-12-13 07:28:52.787662');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:28:52.788172', '2021-12-13 07:28:52.788172');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:28:52.788172', '2021-12-13 07:28:52.788172');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:28:52.788733', '2021-12-13 07:28:52.788733', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:28:52.788733', '2021-12-13 07:28:52.788733', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:28:52.789238', '2021-12-13 07:28:52.789238', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:28:52.789238', '2021-12-13 07:28:52.789238', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:28:52.789816', '2021-12-13 07:28:52.789816');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:28:52.789816', '2021-12-13 07:28:52.789816');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:28:52.790392', '2021-12-13 07:28:52.790392');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:28:52.790392', '2021-12-13 07:28:52.790392');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$7tGFzA6OP4RUy.3Tj7pla.fCJfKwJ8dZ2mcZcjdCn9vCKgD1c6Fi6', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:28:52.790989', '2021-12-13 07:28:52.790989');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$yCwsXCD6PMPHOxeLstCQ8uQhdcc6KPCAP4E4lEFuYvCCI/AVYJdSK', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:28:52.790989', '2021-12-13 07:28:52.790989');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$lbZS9qr5j9OXbh5f1U3rw.uhiVIimkj2OU2rGVxkcRNFKopkik8DS', '2021-12-13 07:28:52.790989', '2021-12-13 07:28:52.790989')[0m
  [1m[36mTRANSACTION (20.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:28:56 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 67.3ms | Allocations: 16029)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 116.6ms | Allocations: 35246)
Completed 200 OK in 136ms (Views: 118.1ms | ActiveRecord: 0.0ms | Allocations: 39074)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:28:56 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:28:58 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:32873/user/a
Completed 302 Found in 22ms (ActiveRecord: 0.2ms | Allocations: 1322)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:28:58 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (8.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 5488)
Completed 200 OK in 112ms (Views: 8.1ms | ActiveRecord: 9.1ms | Allocations: 22653)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (13.4ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:32:00.988607', '2021-12-13 07:32:00.988607');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:32:00.988607', '2021-12-13 07:32:00.988607');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:32:00.989480', '2021-12-13 07:32:00.989480');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:32:00.990060', '2021-12-13 07:32:00.990060');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:32:00.990060', '2021-12-13 07:32:00.990060');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:32:00.990558', '2021-12-13 07:32:00.990558');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:32:00.990558', '2021-12-13 07:32:00.990558');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:32:00.991049', '2021-12-13 07:32:00.991049');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:32:00.991049', '2021-12-13 07:32:00.991049');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:32:00.991632', '2021-12-13 07:32:00.991632');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:32:00.991632', '2021-12-13 07:32:00.991632');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:32:00.994877', '2021-12-13 07:32:00.994877');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:32:00.994877', '2021-12-13 07:32:00.994877');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:32:00.995443', '2021-12-13 07:32:00.995443', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:32:00.995443', '2021-12-13 07:32:00.995443', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:32:00.996011', '2021-12-13 07:32:00.996011', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:32:00.996011', '2021-12-13 07:32:00.996011', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:32:00.996584', '2021-12-13 07:32:00.996584');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:32:00.996584', '2021-12-13 07:32:00.996584');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:32:00.997271', '2021-12-13 07:32:00.997271');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:32:00.997271', '2021-12-13 07:32:00.997271');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$cEJWyLStD5RlHA21pBwY5erqcJqWTfGvwUROr8Ava/L3K3k/vvpmW', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:32:00.997760', '2021-12-13 07:32:00.997760');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$wN1595FLvsZH5M2eqGopEuWUrA1G664aNnEieUWIOalfzBUUn1bDG', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:32:00.997760', '2021-12-13 07:32:00.997760');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$dp6A1PAlsnLp8YcuvVr38ugXYANDA4Xkeb2MKUy0KPwU1/EFOW4Ty', '2021-12-13 07:32:00.997760', '2021-12-13 07:32:00.997760')[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
UsersTest: test_login-fail
--------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:32:05 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 69.2ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 189.1ms | Allocations: 35370)
Completed 200 OK in 222ms (Views: 190.5ms | ActiveRecord: 0.0ms | Allocations: 39198)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:32:05 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:32:06 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:35389/login
Completed 302 Found in 22ms (ActiveRecord: 0.2ms | Allocations: 1287)
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:32:06 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1349)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 89)
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 3511)
Completed 200 OK in 28ms (Views: 27.3ms | ActiveRecord: 0.0ms | Allocations: 4035)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.4ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:35:09.213284', '2021-12-13 07:35:09.213284');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:35:09.213284', '2021-12-13 07:35:09.213284');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:35:09.214255', '2021-12-13 07:35:09.214255');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:35:09.214806', '2021-12-13 07:35:09.214806');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:35:09.214806', '2021-12-13 07:35:09.214806');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:35:09.222807', '2021-12-13 07:35:09.222807');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:35:09.222807', '2021-12-13 07:35:09.222807');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:35:09.224902', '2021-12-13 07:35:09.224902');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:35:09.224902', '2021-12-13 07:35:09.224902');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:35:09.225607', '2021-12-13 07:35:09.225607');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:35:09.225607', '2021-12-13 07:35:09.225607');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:35:09.226402', '2021-12-13 07:35:09.226402');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:35:09.226402', '2021-12-13 07:35:09.226402');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:35:09.227557', '2021-12-13 07:35:09.227557', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:35:09.227557', '2021-12-13 07:35:09.227557', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:35:09.228383', '2021-12-13 07:35:09.228383', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:35:09.228383', '2021-12-13 07:35:09.228383', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:35:09.228994', '2021-12-13 07:35:09.228994');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:35:09.228994', '2021-12-13 07:35:09.228994');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:35:09.229573', '2021-12-13 07:35:09.229573');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:35:09.229573', '2021-12-13 07:35:09.229573');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$mFSMFMVAlXImLL7c6CEgI.3XdSdp2qF3gYkUaIAGfUirpsTL4QjGa', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:35:09.230076', '2021-12-13 07:35:09.230076');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$oihJZQmEQtz6btGbPwIx5eV4IHLsxRPoDVkBJT5TqlKn.awKafR6K', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:35:09.230076', '2021-12-13 07:35:09.230076');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$XNVMNlrRdyu8fG0eAnq.G./A1ImP9ogxsEJvMEs4FBj/d5CjEEzLu', '2021-12-13 07:35:09.230076', '2021-12-13 07:35:09.230076')[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UsersTest: test_register-buyer-success
--------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:35:13 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 24.8ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 96.9ms | Allocations: 35445)
Completed 200 OK in 145ms (Views: 101.8ms | ActiveRecord: 0.0ms | Allocations: 43716)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:35:13 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:35:14 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:45039/choosetype
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 456)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:35:14 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.3ms | Allocations: 231)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2393)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 3049)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
UsersTest: test_register-buyer-fail
-----------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:35:16 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 3546)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 4037)
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:35:17 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:45039/choosetype
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 337)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:35:17 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.2ms | Allocations: 73)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 63.3ms | Allocations: 2106)
Completed 200 OK in 64ms (Views: 63.6ms | ActiveRecord: 0.0ms | Allocations: 2553)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (4.7ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:36:26.337834', '2021-12-13 07:36:26.337834');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:36:26.337834', '2021-12-13 07:36:26.337834');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:36:26.339471', '2021-12-13 07:36:26.339471');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:36:26.340115', '2021-12-13 07:36:26.340115');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:36:26.340115', '2021-12-13 07:36:26.340115');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:36:26.340671', '2021-12-13 07:36:26.340671');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:36:26.340671', '2021-12-13 07:36:26.340671');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:36:26.341111', '2021-12-13 07:36:26.341111');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:36:26.341111', '2021-12-13 07:36:26.341111');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:36:26.341785', '2021-12-13 07:36:26.341785');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:36:26.341785', '2021-12-13 07:36:26.341785');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:36:26.342406', '2021-12-13 07:36:26.342406');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:36:26.342406', '2021-12-13 07:36:26.342406');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:36:26.343087', '2021-12-13 07:36:26.343087', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:36:26.343087', '2021-12-13 07:36:26.343087', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:36:26.343640', '2021-12-13 07:36:26.343640', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:36:26.343640', '2021-12-13 07:36:26.343640', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:36:26.344180', '2021-12-13 07:36:26.344180');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:36:26.344180', '2021-12-13 07:36:26.344180');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:36:26.344749', '2021-12-13 07:36:26.344749');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:36:26.344749', '2021-12-13 07:36:26.344749');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$4XQn0AcQGIaBFy7cSnk2Y.auR8OG6p8gdHsQjKjYhs5h/i2NzLQwe', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:36:26.345385', '2021-12-13 07:36:26.345385');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$BwbXkD1bApmwvkG4barUJudiwLTftKAijT46bahlxUkaT5VuY79mm', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:36:26.345385', '2021-12-13 07:36:26.345385');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$iAE0y4BxUHHw6rTNac5QseCHMGPb54a9dGUM0P9reHZ/wqM2NTeFS', '2021-12-13 07:36:26.345385', '2021-12-13 07:36:26.345385')[0m
  [1m[36mTRANSACTION (19.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
UsersTest: test_register-buyer-fail
-----------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:36:30 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 27.1ms | Allocations: 16035)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 114.0ms | Allocations: 35504)
Completed 200 OK in 138ms (Views: 123.6ms | ActiveRecord: 0.0ms | Allocations: 43775)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:36:30 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:36:31 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:44567/choosetype
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 468)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:36:31 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 36.3ms | Allocations: 231)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 2393)
Completed 200 OK in 40ms (Views: 39.2ms | ActiveRecord: 0.0ms | Allocations: 3045)
Started GET "/users/new" for 127.0.0.1 at 2021-12-13 14:36:31 +0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 122.3ms | Allocations: 17752)
  Rendered users/new.html.erb within layouts/application (Duration: 122.8ms | Allocations: 18066)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 124.8ms | Allocations: 20245)
Completed 200 OK in 126ms (Views: 125.2ms | ActiveRecord: 0.3ms | Allocations: 20902)
Started POST "/users" for 127.0.0.1 at 2021-12-13 14:36:32 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]", "email"=>"", "name"=>"", "address"=>"", "phone"=>"", "gender"=>"", "birthdate(1i)"=>"2021", "birthdate(2i)"=>"12", "birthdate(3i)"=>"13"}, "commit"=>"Create User"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 5.0ms | Allocations: 6906)
  Rendered users/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 6972)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 68.8ms | Allocations: 9120)
Completed 422 Unprocessable Entity in 71ms (Views: 69.1ms | ActiveRecord: 0.0ms | Allocations: 10628)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UsersTest: test_register-buyer-success
--------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:36:33 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 3555)
Completed 200 OK in 18ms (Views: 17.9ms | ActiveRecord: 0.0ms | Allocations: 4045)
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:36:33 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:44567/choosetype
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 328)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:36:33 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.1ms | Allocations: 73)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2106)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 2555)
Started GET "/users/new" for 127.0.0.1 at 2021-12-13 14:36:33 +0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 95.2ms | Allocations: 5449)
  Rendered users/new.html.erb within layouts/application (Duration: 95.4ms | Allocations: 5508)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 97.6ms | Allocations: 7550)
Completed 200 OK in 98ms (Views: 97.8ms | ActiveRecord: 0.0ms | Allocations: 8025)
Started POST "/users" for 127.0.0.1 at 2021-12-13 14:36:34 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]", "email"=>"", "name"=>"", "address"=>"", "phone"=>"", "gender"=>"", "birthdate(1i)"=>"2021", "birthdate(2i)"=>"12", "birthdate(3i)"=>"13"}, "commit"=>"Create User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["username", "a"], ["password_digest", "$2a$04$ueiM3dAFmxaS3PHxcBjKDOFyOk7H0XQBPm.0GL1DRKlzf4ckMiUZ6"], ["email", ""], ["name", ""], ["address", ""], ["phone", ""], ["gender", ""], ["birthdate", "2021-12-13"], ["created_at", "2021-12-13 07:36:34.392011"], ["updated_at", "2021-12-13 07:36:34.392011"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:44567/users/4
Completed 302 Found in 7ms (ActiveRecord: 1.8ms | Allocations: 1902)
Started GET "/users/4" for 127.0.0.1 at 2021-12-13 14:36:34 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 20.3ms | Allocations: 2245)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 4425)
Completed 200 OK in 43ms (Views: 5.4ms | ActiveRecord: 17.5ms | Allocations: 5580)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.8ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:38:45.257065', '2021-12-13 07:38:45.257065');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:38:45.257065', '2021-12-13 07:38:45.257065');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:38:45.258366', '2021-12-13 07:38:45.258366');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:38:45.258886', '2021-12-13 07:38:45.258886');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:38:45.258886', '2021-12-13 07:38:45.258886');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:38:45.259546', '2021-12-13 07:38:45.259546');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:38:45.259546', '2021-12-13 07:38:45.259546');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:38:45.259985', '2021-12-13 07:38:45.259985');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:38:45.259985', '2021-12-13 07:38:45.259985');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:38:45.260560', '2021-12-13 07:38:45.260560');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:38:45.260560', '2021-12-13 07:38:45.260560');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:38:45.261019', '2021-12-13 07:38:45.261019');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:38:45.261019', '2021-12-13 07:38:45.261019');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:38:45.261733', '2021-12-13 07:38:45.261733', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:38:45.261733', '2021-12-13 07:38:45.261733', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:38:45.262246', '2021-12-13 07:38:45.262246', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:38:45.262246', '2021-12-13 07:38:45.262246', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:38:45.262833', '2021-12-13 07:38:45.262833');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:38:45.262833', '2021-12-13 07:38:45.262833');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:38:45.263357', '2021-12-13 07:38:45.263357');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:38:45.263357', '2021-12-13 07:38:45.263357');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$JWLlC/O4NjNIxIbsTbgHhOzulvq9wAXazKAKvRZjOstmtk9ZET03a', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:38:45.263956', '2021-12-13 07:38:45.263956');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$qJNBdiztl4VAqjmBUQGbKe2i0dibf9JFTVa2PCpJVkVP0gjSOSWaW', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:38:45.263956', '2021-12-13 07:38:45.263956');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$CaAIdLr226VRWfbHr26E0O3QVha/IenqdMdaxYlRIzmkPin.9xE9C', '2021-12-13 07:38:45.263956', '2021-12-13 07:38:45.263956')[0m
  [1m[36mTRANSACTION (22.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
UsersTest: test_register-seller-fail
------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:38:49 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 21.1ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 135.8ms | Allocations: 35575)
Completed 200 OK in 163ms (Views: 137.0ms | ActiveRecord: 0.0ms | Allocations: 43846)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:38:49 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:38:50 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:33673/choosetype
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 455)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:38:50 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.3ms | Allocations: 231)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2393)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 3049)
Started GET "/stores/new" for 127.0.0.1 at 2021-12-13 14:38:51 +0700
Processing by StoresController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 112.7ms | Allocations: 12815)
  Rendered stores/new.html.erb within layouts/application (Duration: 113.2ms | Allocations: 13178)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 98)
  Rendered layout layouts/application.html.erb (Duration: 115.3ms | Allocations: 15426)
Completed 200 OK in 161ms (Views: 115.9ms | ActiveRecord: 0.2ms | Allocations: 19797)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UsersTest: test_register-seller-success
---------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:38:53 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1378)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 3556)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 4049)
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:38:53 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:33673/choosetype
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 325)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:38:53 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.1ms | Allocations: 73)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2106)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 2565)
Started GET "/stores/new" for 127.0.0.1 at 2021-12-13 14:38:54 +0700
Processing by StoresController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 3.3ms | Allocations: 3972)
  Rendered stores/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 4031)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 97.0ms | Allocations: 6062)
Completed 200 OK in 98ms (Views: 97.3ms | ActiveRecord: 0.0ms | Allocations: 6537)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (4.9ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:39:10.040989', '2021-12-13 07:39:10.040989');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:39:10.040989', '2021-12-13 07:39:10.040989');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:39:10.042030', '2021-12-13 07:39:10.042030');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:39:10.042615', '2021-12-13 07:39:10.042615');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:39:10.042615', '2021-12-13 07:39:10.042615');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:39:10.043124', '2021-12-13 07:39:10.043124');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:39:10.043124', '2021-12-13 07:39:10.043124');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:39:10.043617', '2021-12-13 07:39:10.043617');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:39:10.043617', '2021-12-13 07:39:10.043617');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:39:10.044378', '2021-12-13 07:39:10.044378');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:39:10.044378', '2021-12-13 07:39:10.044378');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:39:10.044867', '2021-12-13 07:39:10.044867');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:39:10.044867', '2021-12-13 07:39:10.044867');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:39:10.057679', '2021-12-13 07:39:10.057679', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:39:10.057679', '2021-12-13 07:39:10.057679', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:39:10.058828', '2021-12-13 07:39:10.058828', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:39:10.058828', '2021-12-13 07:39:10.058828', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:39:10.059629', '2021-12-13 07:39:10.059629');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:39:10.059629', '2021-12-13 07:39:10.059629');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:39:10.060236', '2021-12-13 07:39:10.060236');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:39:10.060236', '2021-12-13 07:39:10.060236');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$CEcl2i04rIyFHNkFeXaLweivWbGBy2gDGIVEhEsbEcSieFjdDpSce', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:39:10.060687', '2021-12-13 07:39:10.060687');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$/mFEFB6jk/JvHN5xPOrgve2nxPX1ZXzR5yhENAO9YldA/EQORVvT6', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:39:10.060687', '2021-12-13 07:39:10.060687');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$tEj.TuqeQdgYknaxy0WhXuy.ZpjM7tCugopA7U4/gs82WyWHV8E0i', '2021-12-13 07:39:10.060687', '2021-12-13 07:39:10.060687')[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
UsersTest: test_register-seller-fail
------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:39:13 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 20.3ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 67.0ms | Allocations: 35655)
Completed 200 OK in 82ms (Views: 68.4ms | ActiveRecord: 0.0ms | Allocations: 43926)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:39:13 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:39:14 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:42579/choosetype
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 452)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:39:15 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 22.7ms | Allocations: 231)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 2393)
Completed 200 OK in 68ms (Views: 67.6ms | ActiveRecord: 0.0ms | Allocations: 3049)
Started GET "/stores/new" for 127.0.0.1 at 2021-12-13 14:39:15 +0700
Processing by StoresController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 202.5ms | Allocations: 12815)
  Rendered stores/new.html.erb within layouts/application (Duration: 245.3ms | Allocations: 14432)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 98)
  Rendered layout layouts/application.html.erb (Duration: 247.6ms | Allocations: 16672)
Completed 200 OK in 281ms (Views: 248.2ms | ActiveRecord: 0.3ms | Allocations: 21026)
Started POST "/stores" for 127.0.0.1 at 2021-12-13 14:39:16 +0700
Processing by StoresController#create as HTML
  Parameters: {"store"=>{"name"=>"a", "password"=>"[FILTERED]", "address"=>"", "joindate(1i)"=>"2021", "joindate(2i)"=>"12", "joindate(3i)"=>"13", "rating"=>"0"}, "commit"=>"Create Store"}
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 4.3ms | Allocations: 5361)
  Rendered stores/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 5427)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 7575)
Completed 422 Unprocessable Entity in 54ms (Views: 26.4ms | ActiveRecord: 0.0ms | Allocations: 9111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UsersTest: test_register-seller-success
---------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:39:16 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 3544)
Completed 200 OK in 30ms (Views: 29.9ms | ActiveRecord: 0.0ms | Allocations: 4036)
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:39:17 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:42579/choosetype
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 329)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 14:39:17 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.1ms | Allocations: 73)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2108)
Completed 200 OK in 61ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 2564)
Started GET "/stores/new" for 127.0.0.1 at 2021-12-13 14:39:17 +0700
Processing by StoresController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 76.6ms | Allocations: 3934)
  Rendered stores/new.html.erb within layouts/application (Duration: 76.9ms | Allocations: 3993)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 79.9ms | Allocations: 6035)
Completed 200 OK in 81ms (Views: 80.2ms | ActiveRecord: 0.0ms | Allocations: 6505)
Started POST "/stores" for 127.0.0.1 at 2021-12-13 14:39:18 +0700
Processing by StoresController#create as HTML
  Parameters: {"store"=>{"name"=>"a", "password"=>"[FILTERED]", "address"=>"", "joindate(1i)"=>"2021", "joindate(2i)"=>"12", "joindate(3i)"=>"13", "rating"=>"0"}, "commit"=>"Create Store"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStore Create (1.6ms)[0m  [1m[32mINSERT INTO "stores" ("name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "a"], ["password_digest", "$2a$04$mQKp4BXzPGUraPWoT7YA3ul1TIOYGebM.vvauK.5BQQvZS3TiivXe"], ["address", ""], ["joindate", "2021-12-13"], ["rating", 0.0], ["created_at", "2021-12-13 07:39:18.342182"], ["updated_at", "2021-12-13 07:39:18.342182"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:42579/stores/3
Completed 302 Found in 12ms (ActiveRecord: 1.7ms | Allocations: 1907)
Started GET "/stores/3" for 127.0.0.1 at 2021-12-13 14:39:18 +0700
Processing by StoresController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  Rendered stores/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2620)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 95)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 4800)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.5ms | Allocations: 5933)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.4ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:42:41.305530', '2021-12-13 07:42:41.305530');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:42:41.305530', '2021-12-13 07:42:41.305530');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:42:41.311266', '2021-12-13 07:42:41.311266');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:42:41.311881', '2021-12-13 07:42:41.311881');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:42:41.311881', '2021-12-13 07:42:41.311881');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:42:41.312562', '2021-12-13 07:42:41.312562');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:42:41.312562', '2021-12-13 07:42:41.312562');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:42:41.313080', '2021-12-13 07:42:41.313080');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:42:41.313080', '2021-12-13 07:42:41.313080');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:42:41.313700', '2021-12-13 07:42:41.313700');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:42:41.313700', '2021-12-13 07:42:41.313700');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:42:41.314199', '2021-12-13 07:42:41.314199');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:42:41.314199', '2021-12-13 07:42:41.314199');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:42:41.314905', '2021-12-13 07:42:41.314905', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:42:41.314905', '2021-12-13 07:42:41.314905', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:42:41.315423', '2021-12-13 07:42:41.315423', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:42:41.315423', '2021-12-13 07:42:41.315423', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:42:41.316037', '2021-12-13 07:42:41.316037');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:42:41.316037', '2021-12-13 07:42:41.316037');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:42:41.329872', '2021-12-13 07:42:41.329872');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:42:41.329872', '2021-12-13 07:42:41.329872');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$z15aPa4DhbVB8aFqP9Pzmuop3XrbyiEUHJgKVnix.OdkUMoU3t0PS', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:42:41.330950', '2021-12-13 07:42:41.330950');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$Ck3gitOpedHYDGXOFOaUKOzFsMzJKlzTx662w4FmAaNGts0rXhxTO', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:42:41.330950', '2021-12-13 07:42:41.330950');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$AJCz8fA.nvBmKqgoXeAQaOyiDkdd.gadew0v2VuA6VNuaq1pbk19a', '2021-12-13 07:42:41.330950', '2021-12-13 07:42:41.330950')[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:42:45 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 18.6ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 87.7ms | Allocations: 35710)
Completed 200 OK in 102ms (Views: 89.1ms | ActiveRecord: 0.0ms | Allocations: 39539)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:42:45 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:42:46 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44863/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1310)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:42:46 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 12.7ms | Allocations: 3283)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 5485)
Completed 200 OK in 140ms (Views: 15.5ms | ActiveRecord: 1.1ms | Allocations: 22681)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:42:47 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2776)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 2824)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.5ms | Allocations: 12171)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:44:33.214818', '2021-12-13 07:44:33.214818');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:44:33.214818', '2021-12-13 07:44:33.214818');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:44:33.215742', '2021-12-13 07:44:33.215742');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:44:33.216306', '2021-12-13 07:44:33.216306');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:44:33.216306', '2021-12-13 07:44:33.216306');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:44:33.216882', '2021-12-13 07:44:33.216882');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:44:33.216882', '2021-12-13 07:44:33.216882');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:44:33.217346', '2021-12-13 07:44:33.217346');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:44:33.217346', '2021-12-13 07:44:33.217346');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:44:33.217969', '2021-12-13 07:44:33.217969');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:44:33.217969', '2021-12-13 07:44:33.217969');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:44:33.218469', '2021-12-13 07:44:33.218469');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:44:33.218469', '2021-12-13 07:44:33.218469');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:44:33.219045', '2021-12-13 07:44:33.219045', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:44:33.219045', '2021-12-13 07:44:33.219045', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:44:33.219618', '2021-12-13 07:44:33.219618', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:44:33.219618', '2021-12-13 07:44:33.219618', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:44:33.220259', '2021-12-13 07:44:33.220259');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:44:33.220259', '2021-12-13 07:44:33.220259');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:44:33.220870', '2021-12-13 07:44:33.220870');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:44:33.220870', '2021-12-13 07:44:33.220870');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$Te8TQpIS1pBgHwnm2Il6HOc702wB5fqadV.F12HAKxK3AoBcKgfoi', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:44:33.221357', '2021-12-13 07:44:33.221357');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$maLBcRT9D3cSY5XCm4zuauIxmIvOakhxbK4NiIc0EXdLGoQBjJxBq', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:44:33.221357', '2021-12-13 07:44:33.221357');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$sNL4U6T1YvMqowYeaAwamupPa206j87VeQz6Zfs5QcL1c.0O2uI2C', '2021-12-13 07:44:33.221357', '2021-12-13 07:44:33.221357')[0m
  [1m[36mTRANSACTION (21.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:44:37 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 70.6ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 218.2ms | Allocations: 35794)
Completed 200 OK in 231ms (Views: 219.8ms | ActiveRecord: 0.0ms | Allocations: 39622)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:44:37 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:44:38 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:42055/user/a
Completed 302 Found in 30ms (ActiveRecord: 0.2ms | Allocations: 1318)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:44:38 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3285)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5487)
Completed 200 OK in 181ms (Views: 10.9ms | ActiveRecord: 0.9ms | Allocations: 22660)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:44:39 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 44.2ms | Allocations: 3671)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 3719)
Completed 500 Internal Server Error in 102ms (ActiveRecord: 0.5ms | Allocations: 13041)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (8.3ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:45:05.780087', '2021-12-13 07:45:05.780087');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:45:05.780087', '2021-12-13 07:45:05.780087');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:45:05.781102', '2021-12-13 07:45:05.781102');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:45:05.781907', '2021-12-13 07:45:05.781907');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:45:05.781907', '2021-12-13 07:45:05.781907');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:45:05.782422', '2021-12-13 07:45:05.782422');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:45:05.782422', '2021-12-13 07:45:05.782422');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:45:05.782874', '2021-12-13 07:45:05.782874');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:45:05.782874', '2021-12-13 07:45:05.782874');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:45:05.783498', '2021-12-13 07:45:05.783498');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:45:05.783498', '2021-12-13 07:45:05.783498');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:45:05.783966', '2021-12-13 07:45:05.783966');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:45:05.783966', '2021-12-13 07:45:05.783966');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:45:05.784554', '2021-12-13 07:45:05.784554', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:45:05.784554', '2021-12-13 07:45:05.784554', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:45:05.785039', '2021-12-13 07:45:05.785039', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:45:05.785039', '2021-12-13 07:45:05.785039', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:45:05.785611', '2021-12-13 07:45:05.785611');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:45:05.785611', '2021-12-13 07:45:05.785611');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:45:05.786140', '2021-12-13 07:45:05.786140');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:45:05.786140', '2021-12-13 07:45:05.786140');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$BHn2a8F2yxUkVQEKKgZhleYViNQ.oh3.wwJrsLm9a2tfuoJ6C.on6', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:45:05.786663', '2021-12-13 07:45:05.786663');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$8uxXQZZkjI6BYxjTwXkrse4PdVff8cITM2opS/10rX6JB7lOR.1sK', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:45:05.786663', '2021-12-13 07:45:05.786663');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$HdvtdQRvccoilKn5g/tCROMS3o8braQPsjCTXxws1/I3QLYWEbgPi', '2021-12-13 07:45:05.786663', '2021-12-13 07:45:05.786663')[0m
  [1m[36mTRANSACTION (19.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:45:09 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 74.8ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 124.2ms | Allocations: 35869)
Completed 200 OK in 130ms (Views: 125.7ms | ActiveRecord: 0.0ms | Allocations: 39697)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:45:09 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:45:10 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:40469/user/a
Completed 302 Found in 37ms (ActiveRecord: 0.2ms | Allocations: 1310)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:45:11 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.2ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 5487)
Completed 200 OK in 88ms (Views: 15.6ms | ActiveRecord: 1.1ms | Allocations: 22641)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:45:11 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 60.2ms | Allocations: 4733)
  Rendered layout layouts/application.html.erb (Duration: 60.3ms | Allocations: 4781)
Completed 500 Internal Server Error in 183ms (ActiveRecord: 0.8ms | Allocations: 14124)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (14.7ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:45:40.005871', '2021-12-13 07:45:40.005871');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:45:40.005871', '2021-12-13 07:45:40.005871');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:45:40.007023', '2021-12-13 07:45:40.007023');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:45:40.007704', '2021-12-13 07:45:40.007704');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:45:40.007704', '2021-12-13 07:45:40.007704');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:45:40.008246', '2021-12-13 07:45:40.008246');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:45:40.008246', '2021-12-13 07:45:40.008246');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:45:40.008717', '2021-12-13 07:45:40.008717');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:45:40.008717', '2021-12-13 07:45:40.008717');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:45:40.009337', '2021-12-13 07:45:40.009337');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:45:40.009337', '2021-12-13 07:45:40.009337');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:45:40.009858', '2021-12-13 07:45:40.009858');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:45:40.009858', '2021-12-13 07:45:40.009858');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:45:40.013016', '2021-12-13 07:45:40.013016', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:45:40.013016', '2021-12-13 07:45:40.013016', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:45:40.013667', '2021-12-13 07:45:40.013667', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:45:40.013667', '2021-12-13 07:45:40.013667', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:45:40.014339', '2021-12-13 07:45:40.014339');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:45:40.014339', '2021-12-13 07:45:40.014339');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:45:40.014903', '2021-12-13 07:45:40.014903');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:45:40.014903', '2021-12-13 07:45:40.014903');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$9Whqrg4c99IUhD/9sO7h3.Wppzhhgy4EQAQBuBZlJJpAr.QmqK3vS', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:45:40.015417', '2021-12-13 07:45:40.015417');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$9O50EYTsl/gst8ETE7Yuv.46covgKQkJusovmTMrrkG1C/7XeJiuO', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:45:40.015417', '2021-12-13 07:45:40.015417');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$p.WpmNFTmvPrTz7fNBkMZeOkfJuT3xtoMR4eVwh8yX4n3FlcOsKbq', '2021-12-13 07:45:40.015417', '2021-12-13 07:45:40.015417')[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:45:43 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 49.1ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 139.1ms | Allocations: 35924)
Completed 200 OK in 150ms (Views: 140.7ms | ActiveRecord: 0.0ms | Allocations: 39752)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:45:44 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:45:45 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:39741/user/a
Completed 302 Found in 57ms (ActiveRecord: 0.2ms | Allocations: 1316)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:45:45 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.2ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 5486)
Completed 200 OK in 85ms (Views: 19.3ms | ActiveRecord: 1.0ms | Allocations: 22654)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:45:45 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 99.9ms | Allocations: 8027)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 143.1ms | Allocations: 10292)
Completed 200 OK in 179ms (Views: 143.6ms | ActiveRecord: 0.7ms | Allocations: 19663)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (8.0ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:46:49.304501', '2021-12-13 07:46:49.304501');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:46:49.304501', '2021-12-13 07:46:49.304501');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:46:49.305455', '2021-12-13 07:46:49.305455');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:46:49.305989', '2021-12-13 07:46:49.305989');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:46:49.305989', '2021-12-13 07:46:49.305989');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 3, '2021-12-13 07:46:49.306490', '2021-12-13 07:46:49.306490');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:46:49.306490', '2021-12-13 07:46:49.306490');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:46:49.307017', '2021-12-13 07:46:49.307017');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:46:49.307017', '2021-12-13 07:46:49.307017');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:46:49.307682', '2021-12-13 07:46:49.307682');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:46:49.307682', '2021-12-13 07:46:49.307682');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:46:49.308210', '2021-12-13 07:46:49.308210');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:46:49.308210', '2021-12-13 07:46:49.308210');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:46:49.308728', '2021-12-13 07:46:49.308728', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:46:49.308728', '2021-12-13 07:46:49.308728', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:46:49.309279', '2021-12-13 07:46:49.309279', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:46:49.309279', '2021-12-13 07:46:49.309279', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:46:49.309867', '2021-12-13 07:46:49.309867');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:46:49.309867', '2021-12-13 07:46:49.309867');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:46:49.310415', '2021-12-13 07:46:49.310415');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:46:49.310415', '2021-12-13 07:46:49.310415');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$WjFh24Wu1js6oyx/oW9vKeE39WkfbFnxxPe6BjRpdXWxgup8WfhZi', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:46:49.324886', '2021-12-13 07:46:49.324886');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$cfBd70oQfOAY2B7Q6JiZeuw2BUPD3eoEuvV6MGOwgtwNrPYJaycNm', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:46:49.324886', '2021-12-13 07:46:49.324886');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$rliqPfAkKDXw5egrGdei/ufiBdExkupGbQGVACZuxGYHq5WypZnqK', '2021-12-13 07:46:49.324886', '2021-12-13 07:46:49.324886')[0m
  [1m[36mTRANSACTION (20.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:46:53 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 71.7ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.9ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 115.3ms | Allocations: 35993)
Completed 200 OK in 184ms (Views: 150.0ms | ActiveRecord: 0.0ms | Allocations: 39821)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:46:53 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:46:54 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:45165/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1332)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:46:54 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3284)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 117)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 5488)
Completed 200 OK in 190ms (Views: 11.7ms | ActiveRecord: 1.1ms | Allocations: 22648)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:46:55 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 119.1ms | Allocations: 8028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 121.2ms | Allocations: 10263)
Completed 200 OK in 272ms (Views: 121.7ms | ActiveRecord: 0.7ms | Allocations: 19625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (13.1ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:47:53.767702', '2021-12-13 07:47:53.767702');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:47:53.767702', '2021-12-13 07:47:53.767702');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:47:53.768631', '2021-12-13 07:47:53.768631');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:47:53.769158', '2021-12-13 07:47:53.769158');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:47:53.769158', '2021-12-13 07:47:53.769158');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:47:53.769775', '2021-12-13 07:47:53.769775');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:47:53.769775', '2021-12-13 07:47:53.769775');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:47:53.770271', '2021-12-13 07:47:53.770271');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:47:53.770271', '2021-12-13 07:47:53.770271');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:47:53.770956', '2021-12-13 07:47:53.770956');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:47:53.770956', '2021-12-13 07:47:53.770956');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:47:53.771550', '2021-12-13 07:47:53.771550');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:47:53.771550', '2021-12-13 07:47:53.771550');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:47:53.772110', '2021-12-13 07:47:53.772110', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:47:53.772110', '2021-12-13 07:47:53.772110', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:47:53.772782', '2021-12-13 07:47:53.772782', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:47:53.772782', '2021-12-13 07:47:53.772782', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:47:53.773349', '2021-12-13 07:47:53.773349');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:47:53.773349', '2021-12-13 07:47:53.773349');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:47:53.773902', '2021-12-13 07:47:53.773902');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:47:53.773902', '2021-12-13 07:47:53.773902');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$.O5zgGnI60jTTwsQZqvUIu88MaWeaPNlILxiIIvLB9shCfTDX2RB.', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:47:53.774386', '2021-12-13 07:47:53.774386');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$JhvsgeEFBP9y1fNKBwEe3OTbLzq/RcNInFQDZsbgJivBhXmdSUJT2', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:47:53.774386', '2021-12-13 07:47:53.774386');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$k3TTmSnHr68Fm2k6fDaGhu4D0Dag5tFQE8strl30mZE8MbKReQNnm', '2021-12-13 07:47:53.774386', '2021-12-13 07:47:53.774386')[0m
  [1m[36mTRANSACTION (23.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:47:58 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 27.3ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 182.4ms | Allocations: 36070)
Completed 200 OK in 189ms (Views: 184.1ms | ActiveRecord: 0.0ms | Allocations: 39899)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:47:58 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:47:59 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:39115/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1318)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:47:59 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (15.6ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:51:47.777862', '2021-12-13 07:51:47.777862');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:51:47.777862', '2021-12-13 07:51:47.777862');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:51:47.778830', '2021-12-13 07:51:47.778830');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:51:47.779524', '2021-12-13 07:51:47.779524');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:51:47.779524', '2021-12-13 07:51:47.779524');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:51:47.780118', '2021-12-13 07:51:47.780118');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:51:47.780118', '2021-12-13 07:51:47.780118');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:51:47.780661', '2021-12-13 07:51:47.780661');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:51:47.780661', '2021-12-13 07:51:47.780661');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:51:47.781312', '2021-12-13 07:51:47.781312');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:51:47.781312', '2021-12-13 07:51:47.781312');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:51:47.781822', '2021-12-13 07:51:47.781822');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:51:47.781822', '2021-12-13 07:51:47.781822');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:51:47.782406', '2021-12-13 07:51:47.782406', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:51:47.782406', '2021-12-13 07:51:47.782406', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:51:47.782927', '2021-12-13 07:51:47.782927', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:51:47.782927', '2021-12-13 07:51:47.782927', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:51:47.787354', '2021-12-13 07:51:47.787354');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:51:47.787354', '2021-12-13 07:51:47.787354');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:51:47.787954', '2021-12-13 07:51:47.787954');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:51:47.787954', '2021-12-13 07:51:47.787954');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$LslQoSbbfuAOmdELeMSYOuHj8R52AYGe90DxtIGUL16KLpKHAX2za', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:51:47.788496', '2021-12-13 07:51:47.788496');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$.JDLiwowGj3nQByxpyJzTOUIvtYwsRqDjeTKUlo8/lDQaW.8Bxdr.', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:51:47.788496', '2021-12-13 07:51:47.788496');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$bwsGk5p3/BKW9.lxSYGzNODsMJ6m9srzerA6j27M/ywbWREtahXa2', '2021-12-13 07:51:47.788496', '2021-12-13 07:51:47.788496')[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:51:51 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 57.9ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 218.4ms | Allocations: 36143)
Completed 200 OK in 245ms (Views: 226.7ms | ActiveRecord: 0.0ms | Allocations: 39971)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:51:51 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:51:53 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:39991/user/a
Completed 302 Found in 39ms (ActiveRecord: 0.2ms | Allocations: 1314)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:51:53 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (23.3ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:51:53.256510"], ["updated_at", "2021-12-13 07:51:53.256510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.7ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 2900)
Completed 200 OK in 89ms (Views: 3.1ms | ActiveRecord: 23.9ms | Allocations: 12208)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:51:53 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 28.6ms | Allocations: 9979)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 46.1ms | Allocations: 12216)
Completed 200 OK in 132ms (Views: 46.2ms | ActiveRecord: 1.2ms | Allocations: 28172)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (9.9ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:52:46.813707', '2021-12-13 07:52:46.813707');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:52:46.813707', '2021-12-13 07:52:46.813707');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:52:46.814620', '2021-12-13 07:52:46.814620');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:52:46.815177', '2021-12-13 07:52:46.815177');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:52:46.815177', '2021-12-13 07:52:46.815177');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:52:46.815656', '2021-12-13 07:52:46.815656');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:52:46.815656', '2021-12-13 07:52:46.815656');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:52:46.816161', '2021-12-13 07:52:46.816161');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:52:46.816161', '2021-12-13 07:52:46.816161');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:52:46.816757', '2021-12-13 07:52:46.816757');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:52:46.816757', '2021-12-13 07:52:46.816757');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:52:46.817316', '2021-12-13 07:52:46.817316');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:52:46.817316', '2021-12-13 07:52:46.817316');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:52:46.840438', '2021-12-13 07:52:46.840438', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:52:46.840438', '2021-12-13 07:52:46.840438', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:52:46.841272', '2021-12-13 07:52:46.841272', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:52:46.841272', '2021-12-13 07:52:46.841272', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:52:46.842296', '2021-12-13 07:52:46.842296');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:52:46.842296', '2021-12-13 07:52:46.842296');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:52:46.842901', '2021-12-13 07:52:46.842901');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:52:46.842901', '2021-12-13 07:52:46.842901');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$.AwY1cMoaYmezXHeMJ8n1u86KlsRWwOJ.oTgxpO0m./8Ca9KTi05W', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:52:46.843459', '2021-12-13 07:52:46.843459');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$M/L2zcCCmgh79dMGdxqr1.MkJSEeq6md8/9PvXJYyCZspbsD1N1UG', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:52:46.843459', '2021-12-13 07:52:46.843459');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$kT5oiYoW3pqN7Btm/3TXV.aFwLCLs4OrhiFiJCJ0f2Rx.Oe84iDk2', '2021-12-13 07:52:46.843459', '2021-12-13 07:52:46.843459')[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:52:50 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 88.9ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 168.5ms | Allocations: 36209)
Completed 200 OK in 191ms (Views: 170.0ms | ActiveRecord: 0.0ms | Allocations: 40037)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:52:50 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:52:52 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38137/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1312)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:52:52 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (40.8ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:52:52.323548"], ["updated_at", "2021-12-13 07:52:52.323548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.8ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 37.4ms | Allocations: 2900)
Completed 200 OK in 116ms (Views: 37.8ms | ActiveRecord: 41.4ms | Allocations: 12222)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:52:52 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 170.6ms | Allocations: 9978)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 173.0ms | Allocations: 12213)
Completed 200 OK in 295ms (Views: 173.2ms | ActiveRecord: 1.1ms | Allocations: 28185)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (5.3ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:53:03.926163', '2021-12-13 07:53:03.926163');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:53:03.926163', '2021-12-13 07:53:03.926163');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:53:03.927183', '2021-12-13 07:53:03.927183');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:53:03.927758', '2021-12-13 07:53:03.927758');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:53:03.927758', '2021-12-13 07:53:03.927758');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:53:03.928260', '2021-12-13 07:53:03.928260');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:53:03.928260', '2021-12-13 07:53:03.928260');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:53:03.928790', '2021-12-13 07:53:03.928790');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:53:03.928790', '2021-12-13 07:53:03.928790');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:53:03.929386', '2021-12-13 07:53:03.929386');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:53:03.929386', '2021-12-13 07:53:03.929386');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:53:03.929943', '2021-12-13 07:53:03.929943');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:53:03.929943', '2021-12-13 07:53:03.929943');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:53:03.930498', '2021-12-13 07:53:03.930498', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:53:03.930498', '2021-12-13 07:53:03.930498', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:53:03.931034', '2021-12-13 07:53:03.931034', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:53:03.931034', '2021-12-13 07:53:03.931034', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:53:03.931649', '2021-12-13 07:53:03.931649');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:53:03.931649', '2021-12-13 07:53:03.931649');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:53:03.932224', '2021-12-13 07:53:03.932224');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:53:03.932224', '2021-12-13 07:53:03.932224');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$DBPTdiEoO6vacpeeTjb7lO5dDEE1sknLpDCuV7c6SHteFqIjvwHI6', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:53:03.932784', '2021-12-13 07:53:03.932784');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$YnBgev3KFatgMeOtoAKazet6ABiLfIIXq6X2L4.XK2h0WJ8KhZvNW', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:53:03.932784', '2021-12-13 07:53:03.932784');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$G833SCZa0KfS1ZvOIZaKCu69ym1d.jU.BgM4N3ffiyHiqtaYSHedG', '2021-12-13 07:53:03.932784', '2021-12-13 07:53:03.932784')[0m
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:53:07 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 65.5ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 113.2ms | Allocations: 36284)
Completed 200 OK in 129ms (Views: 116.5ms | ActiveRecord: 0.0ms | Allocations: 40112)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:53:08 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:53:09 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:46475/user/a
Completed 302 Found in 29ms (ActiveRecord: 0.2ms | Allocations: 1308)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:53:09 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (2.2ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (17.4ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:53:09.312403"], ["updated_at", "2021-12-13 07:53:09.312403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 18.7ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 2901)
Completed 200 OK in 75ms (Views: 21.9ms | ActiveRecord: 20.2ms | Allocations: 12209)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:53:09 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (5.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 140.8ms | Allocations: 10008)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 215.6ms | Allocations: 12243)
Completed 200 OK in 340ms (Views: 210.5ms | ActiveRecord: 6.5ms | Allocations: 28197)
  [1m[36mTRANSACTION (17.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (5.5ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:53:44.225407', '2021-12-13 07:53:44.225407');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:53:44.225407', '2021-12-13 07:53:44.225407');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:53:44.240274', '2021-12-13 07:53:44.240274');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:53:44.241096', '2021-12-13 07:53:44.241096');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:53:44.241096', '2021-12-13 07:53:44.241096');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:53:44.241656', '2021-12-13 07:53:44.241656');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:53:44.241656', '2021-12-13 07:53:44.241656');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:53:44.242160', '2021-12-13 07:53:44.242160');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:53:44.242160', '2021-12-13 07:53:44.242160');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:53:44.242916', '2021-12-13 07:53:44.242916');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:53:44.242916', '2021-12-13 07:53:44.242916');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:53:44.243450', '2021-12-13 07:53:44.243450');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:53:44.243450', '2021-12-13 07:53:44.243450');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:53:44.243995', '2021-12-13 07:53:44.243995', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:53:44.243995', '2021-12-13 07:53:44.243995', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:53:44.244647', '2021-12-13 07:53:44.244647', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:53:44.244647', '2021-12-13 07:53:44.244647', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:53:44.245416', '2021-12-13 07:53:44.245416');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:53:44.245416', '2021-12-13 07:53:44.245416');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:53:44.246001', '2021-12-13 07:53:44.246001');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:53:44.246001', '2021-12-13 07:53:44.246001');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$lLx5QF6Ybup71dlb1A6SzOGHOJIK9kgXs.Fm3GASsbErVQXtrQCbm', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:53:44.246477', '2021-12-13 07:53:44.246477');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$fl.6Dxgnb7t4WXEFuhFImuQAGw9W1ORML7XSAD/DJwMB3dWyQGCue', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:53:44.246477', '2021-12-13 07:53:44.246477');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$amOhQh530pLJB/YM93zm.uBNioD3u3J57i0MvV42v8z8aeyPG3P2.', '2021-12-13 07:53:44.246477', '2021-12-13 07:53:44.246477')[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:53:48 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 36.1ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 152.3ms | Allocations: 36345)
Completed 200 OK in 165ms (Views: 153.7ms | ActiveRecord: 0.0ms | Allocations: 40174)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:53:48 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:53:49 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:37313/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1312)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:53:49 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (51.1ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:53:49.908562"], ["updated_at", "2021-12-13 07:53:49.908562"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.6ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2900)
Completed 200 OK in 148ms (Views: 7.6ms | ActiveRecord: 53.3ms | Allocations: 12258)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:53:50 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 77.6ms | Allocations: 10007)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 105.7ms | Allocations: 12242)
Completed 200 OK in 163ms (Views: 105.9ms | ActiveRecord: 1.0ms | Allocations: 28186)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (20.1ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:55:23.337754', '2021-12-13 07:55:23.337754');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:55:23.337754', '2021-12-13 07:55:23.337754');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:55:23.338685', '2021-12-13 07:55:23.338685');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:55:23.339239', '2021-12-13 07:55:23.339239');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:55:23.339239', '2021-12-13 07:55:23.339239');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:55:23.339929', '2021-12-13 07:55:23.339929');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:55:23.339929', '2021-12-13 07:55:23.339929');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:55:23.340388', '2021-12-13 07:55:23.340388');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:55:23.340388', '2021-12-13 07:55:23.340388');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:55:23.340974', '2021-12-13 07:55:23.340974');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:55:23.340974', '2021-12-13 07:55:23.340974');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:55:23.341482', '2021-12-13 07:55:23.341482');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:55:23.341482', '2021-12-13 07:55:23.341482');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:55:23.376680', '2021-12-13 07:55:23.376680', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:55:23.376680', '2021-12-13 07:55:23.376680', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:55:23.377373', '2021-12-13 07:55:23.377373', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:55:23.377373', '2021-12-13 07:55:23.377373', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:55:23.378033', '2021-12-13 07:55:23.378033');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:55:23.378033', '2021-12-13 07:55:23.378033');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:55:23.378631', '2021-12-13 07:55:23.378631');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:55:23.378631', '2021-12-13 07:55:23.378631');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$PLBmmmEFTAquHQjtmao2kOLnyQeG.WmQzCchiWY0t/19LO0cOjOHi', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:55:23.379292', '2021-12-13 07:55:23.379292');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$nNrpSbdcgnrPWB1SrY/L5OWowtOBGqur.6p6hy/Eb9pYRKal4Pd1u', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:55:23.379292', '2021-12-13 07:55:23.379292');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$Bnpp59LxczsqzRVo8SeHn.mmHlQ6gM1zC0CAiHaydpG/iKiNsIfdW', '2021-12-13 07:55:23.379292', '2021-12-13 07:55:23.379292')[0m
  [1m[36mTRANSACTION (17.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:55:33 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 78.8ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 314.6ms | Allocations: 36425)
Completed 200 OK in 345ms (Views: 316.4ms | ActiveRecord: 0.0ms | Allocations: 40254)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:55:33 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:55:35 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:33039/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1314)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:55:35 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (73.0ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:55:35.513002"], ["updated_at", "2021-12-13 07:55:35.513002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 15.7ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 2900)
Completed 200 OK in 102ms (Views: 18.2ms | ActiveRecord: 73.6ms | Allocations: 12266)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:55:35 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 74.5ms | Allocations: 9976)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 76.5ms | Allocations: 12211)
Completed 200 OK in 194ms (Views: 73.6ms | ActiveRecord: 4.3ms | Allocations: 28191)
Started POST "/store/jj/fav/1" for 127.0.0.1 at 2021-12-13 14:55:36 +0700
Processing by StoresController#favitem as HTML
  Parameters: {"name"=>"jj", "item_id"=>"1"}
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Create (93.6ms)[0m  [1m[32mINSERT INTO "favitems" ("item_id", "favlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["favlib_id", 3], ["created_at", "2021-12-13 07:55:36.642622"], ["updated_at", "2021-12-13 07:55:36.642622"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:33039/store/jj
Completed 302 Found in 99ms (ActiveRecord: 94.0ms | Allocations: 4243)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:55:36 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 116.8ms | Allocations: 3836)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 139.7ms | Allocations: 5848)
Completed 200 OK in 143ms (Views: 139.6ms | ActiveRecord: 0.6ms | Allocations: 7786)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (9.6ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:56:21.932432', '2021-12-13 07:56:21.932432');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:56:21.932432', '2021-12-13 07:56:21.932432');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:56:21.933420', '2021-12-13 07:56:21.933420');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:56:21.933949', '2021-12-13 07:56:21.933949');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:56:21.933949', '2021-12-13 07:56:21.933949');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:56:21.934451', '2021-12-13 07:56:21.934451');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:56:21.934451', '2021-12-13 07:56:21.934451');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:56:21.934889', '2021-12-13 07:56:21.934889');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:56:21.934889', '2021-12-13 07:56:21.934889');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:56:21.935636', '2021-12-13 07:56:21.935636');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:56:21.935636', '2021-12-13 07:56:21.935636');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:56:21.936125', '2021-12-13 07:56:21.936125');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:56:21.936125', '2021-12-13 07:56:21.936125');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:56:21.936657', '2021-12-13 07:56:21.936657', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:56:21.936657', '2021-12-13 07:56:21.936657', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:56:21.937137', '2021-12-13 07:56:21.937137', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:56:21.937137', '2021-12-13 07:56:21.937137', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:56:21.937854', '2021-12-13 07:56:21.937854');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:56:21.937854', '2021-12-13 07:56:21.937854');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:56:21.961133', '2021-12-13 07:56:21.961133');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:56:21.961133', '2021-12-13 07:56:21.961133');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$JEIffZy/e7S3G/R.kijynuhkTUJeXoUwMB7ika.KJzLl8HzYMPoBm', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:56:21.961695', '2021-12-13 07:56:21.961695');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$Slq/hy/m/gKcMO8KW3Q8y.n3F2zkzGAxj4mw7/jHGNICJXoNlznvy', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:56:21.961695', '2021-12-13 07:56:21.961695');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$ik0XQICsJ.gxz7ATS8Eyier0ci/UGX5CLx8MYa7XHRqR.qCmTWVte', '2021-12-13 07:56:21.961695', '2021-12-13 07:56:21.961695')[0m
  [1m[36mTRANSACTION (16.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:56:29 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 72.4ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 215.7ms | Allocations: 36500)
Completed 200 OK in 237ms (Views: 217.4ms | ActiveRecord: 0.0ms | Allocations: 40329)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:56:30 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:56:31 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38631/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1328)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:56:31 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (42.5ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:56:31.437870"], ["updated_at", "2021-12-13 07:56:31.437870"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 25.3ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 88.8ms | Allocations: 2902)
Completed 200 OK in 157ms (Views: 89.1ms | ActiveRecord: 43.1ms | Allocations: 12251)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:56:31 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 25.0ms | Allocations: 9977)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | Allocations: 12212)
Completed 200 OK in 98ms (Views: 27.3ms | ActiveRecord: 1.0ms | Allocations: 28143)
Started POST "/store/jj/fav/1" for 127.0.0.1 at 2021-12-13 14:56:32 +0700
Processing by StoresController#favitem as HTML
  Parameters: {"name"=>"jj", "item_id"=>"1"}
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Create (30.1ms)[0m  [1m[32mINSERT INTO "favitems" ("item_id", "favlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["favlib_id", 3], ["created_at", "2021-12-13 07:56:32.588936"], ["updated_at", "2021-12-13 07:56:32.588936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38631/store/jj
Completed 302 Found in 65ms (ActiveRecord: 30.5ms | Allocations: 4221)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:56:32 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (26.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 42.8ms | Allocations: 3836)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 5846)
Completed 200 OK in 75ms (Views: 45.0ms | ActiveRecord: 26.8ms | Allocations: 7783)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:56:33 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 195.3ms | Allocations: 535)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 97)
  Rendered layout layouts/application.html.erb (Duration: 217.6ms | Allocations: 2590)
Completed 200 OK in 230ms (Views: 227.0ms | ActiveRecord: 0.3ms | Allocations: 4775)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (9.4ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:57:07.717967', '2021-12-13 07:57:07.717967');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:57:07.717967', '2021-12-13 07:57:07.717967');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:57:07.718909', '2021-12-13 07:57:07.718909');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:57:07.719437', '2021-12-13 07:57:07.719437');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:57:07.719437', '2021-12-13 07:57:07.719437');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:57:07.720137', '2021-12-13 07:57:07.720137');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:57:07.720137', '2021-12-13 07:57:07.720137');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:57:07.720637', '2021-12-13 07:57:07.720637');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:57:07.720637', '2021-12-13 07:57:07.720637');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:57:07.721248', '2021-12-13 07:57:07.721248');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:57:07.721248', '2021-12-13 07:57:07.721248');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:57:07.733991', '2021-12-13 07:57:07.733991');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:57:07.733991', '2021-12-13 07:57:07.733991');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:57:07.734777', '2021-12-13 07:57:07.734777', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:57:07.734777', '2021-12-13 07:57:07.734777', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:57:07.735350', '2021-12-13 07:57:07.735350', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:57:07.735350', '2021-12-13 07:57:07.735350', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:57:07.735915', '2021-12-13 07:57:07.735915');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:57:07.735915', '2021-12-13 07:57:07.735915');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:57:07.736518', '2021-12-13 07:57:07.736518');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:57:07.736518', '2021-12-13 07:57:07.736518');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$YEWOk8juqdsKh6P1oZKZoeYh759L.B.yduMistplOfHNbWuAiHcoC', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:57:07.737108', '2021-12-13 07:57:07.737108');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$4GQj.BQ5YLcdAyABEjKwg.NCe.2FXnXxTDXcJKb7JqKvw/HG1D9k2', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:57:07.737108', '2021-12-13 07:57:07.737108');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$nWz7lcjINPBxYn2OpmexX.nqPh/b.XfzVmLWgPOu/X6jT4tPzI1ba', '2021-12-13 07:57:07.737108', '2021-12-13 07:57:07.737108')[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:57:11 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 24.6ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.9ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 200.0ms | Allocations: 36565)
Completed 200 OK in 232ms (Views: 201.3ms | ActiveRecord: 0.0ms | Allocations: 40394)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:57:11 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:57:13 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:45375/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1328)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:57:13 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (18.4ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:57:13.400132"], ["updated_at", "2021-12-13 07:57:13.400132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 1.4ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 2902)
Completed 200 OK in 116ms (Views: 12.4ms | ActiveRecord: 19.1ms | Allocations: 12245)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:57:13 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 86.3ms | Allocations: 9977)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 137.5ms | Allocations: 12212)
Completed 200 OK in 327ms (Views: 137.8ms | ActiveRecord: 1.1ms | Allocations: 28155)
Started POST "/store/jj/fav/1" for 127.0.0.1 at 2021-12-13 14:57:14 +0700
Processing by StoresController#favitem as HTML
  Parameters: {"name"=>"jj", "item_id"=>"1"}
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavlib Load (21.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Create (3.0ms)[0m  [1m[32mINSERT INTO "favitems" ("item_id", "favlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["favlib_id", 3], ["created_at", "2021-12-13 07:57:14.688794"], ["updated_at", "2021-12-13 07:57:14.688794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:45375/store/jj
Completed 302 Found in 30ms (ActiveRecord: 24.3ms | Allocations: 4223)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:57:14 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 33.3ms | Allocations: 3836)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 47.7ms | Allocations: 5846)
Completed 200 OK in 110ms (Views: 47.8ms | ActiveRecord: 0.5ms | Allocations: 7789)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:57:14 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 1.0ms | Allocations: 535)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 97)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 2589)
Completed 200 OK in 105ms (Views: 18.5ms | ActiveRecord: 0.4ms | Allocations: 4778)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.6ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:58:56.291352', '2021-12-13 07:58:56.291352');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:58:56.291352', '2021-12-13 07:58:56.291352');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:58:56.292378', '2021-12-13 07:58:56.292378');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:58:56.292918', '2021-12-13 07:58:56.292918');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:58:56.292918', '2021-12-13 07:58:56.292918');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:58:56.293401', '2021-12-13 07:58:56.293401');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:58:56.293401', '2021-12-13 07:58:56.293401');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:58:56.293904', '2021-12-13 07:58:56.293904');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:58:56.293904', '2021-12-13 07:58:56.293904');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:58:56.294670', '2021-12-13 07:58:56.294670');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:58:56.294670', '2021-12-13 07:58:56.294670');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:58:56.295207', '2021-12-13 07:58:56.295207');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:58:56.295207', '2021-12-13 07:58:56.295207');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:58:56.297316', '2021-12-13 07:58:56.297316', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:58:56.297316', '2021-12-13 07:58:56.297316', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:58:56.297962', '2021-12-13 07:58:56.297962', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:58:56.297962', '2021-12-13 07:58:56.297962', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:58:56.298771', '2021-12-13 07:58:56.298771');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:58:56.298771', '2021-12-13 07:58:56.298771');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:58:56.299471', '2021-12-13 07:58:56.299471');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:58:56.299471', '2021-12-13 07:58:56.299471');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$hZAyetyKXFc1X362rFA1D.rWxHlVQHSZ15/Xap3xNd6y6TPlKSfOi', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:58:56.300004', '2021-12-13 07:58:56.300004');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$BM46BXUyk4m4XWLT9o3PEe31ZWIoq6GNu0vWl3Hj9cALicpZfLgYq', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:58:56.300004', '2021-12-13 07:58:56.300004');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$jr7j.OgosMV.srcbWzZQqee4rn1.zLRFVHK0Tb5cb40sZH/KTPRI.', '2021-12-13 07:58:56.300004', '2021-12-13 07:58:56.300004')[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_additem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 14:59:00 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 33.8ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 110.7ms | Allocations: 36625)
Completed 200 OK in 127ms (Views: 113.9ms | ActiveRecord: 0.0ms | Allocations: 40454)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 14:59:00 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 14:59:01 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:42947/user/a
Completed 302 Found in 38ms (ActiveRecord: 0.2ms | Allocations: 1314)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 14:59:01 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (2.8ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 07:59:01.797259"], ["updated_at", "2021-12-13 07:59:01.797259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.8ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 91.5ms | Allocations: 2901)
Completed 200 OK in 150ms (Views: 92.0ms | ActiveRecord: 3.5ms | Allocations: 12249)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:59:02 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 44.0ms | Allocations: 9977)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 70.3ms | Allocations: 12212)
Completed 200 OK in 146ms (Views: 70.6ms | ActiveRecord: 1.0ms | Allocations: 28190)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 14:59:02 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (44.1ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 07:59:02.796325"], ["updated_at", "2021-12-13 07:59:02.796325"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (28.7ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 07:59:02.871349"], ["updated_at", "2021-12-13 07:59:02.871349"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:42947/store/jj
Completed 302 Found in 147ms (ActiveRecord: 73.4ms | Allocations: 7651)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 14:59:02 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2890)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 2937)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 0.5ms | Allocations: 5273)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (9.2ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:59:57.979652', '2021-12-13 07:59:57.979652');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 07:59:57.979652', '2021-12-13 07:59:57.979652');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:59:57.980589', '2021-12-13 07:59:57.980589');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 07:59:57.990359', '2021-12-13 07:59:57.990359');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 07:59:57.990359', '2021-12-13 07:59:57.990359');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 07:59:57.991083', '2021-12-13 07:59:57.991083');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 07:59:57.991083', '2021-12-13 07:59:57.991083');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 07:59:57.991566', '2021-12-13 07:59:57.991566');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 07:59:57.991566', '2021-12-13 07:59:57.991566');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 07:59:58.005798', '2021-12-13 07:59:58.005798');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 07:59:58.005798', '2021-12-13 07:59:58.005798');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 07:59:58.006370', '2021-12-13 07:59:58.006370');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 07:59:58.006370', '2021-12-13 07:59:58.006370');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 07:59:58.007087', '2021-12-13 07:59:58.007087', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 07:59:58.007087', '2021-12-13 07:59:58.007087', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:59:58.007698', '2021-12-13 07:59:58.007698', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 07:59:58.007698', '2021-12-13 07:59:58.007698', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:59:58.008281', '2021-12-13 07:59:58.008281');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 07:59:58.008281', '2021-12-13 07:59:58.008281');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 07:59:58.008873', '2021-12-13 07:59:58.008873');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 07:59:58.008873', '2021-12-13 07:59:58.008873');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$k8zxkBV7zY//kAMgmUuOfe/Cy886B2GDL0MfzFhtlRTXIlCndcq6m', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:59:58.009384', '2021-12-13 07:59:58.009384');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$uZPoa3MEaVG4NBxWzT9Ax.hsl4f/MOYtEV8/swyW5t4GA72YGw2KO', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 07:59:58.009384', '2021-12-13 07:59:58.009384');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$z.zcq/JVngNuGswsdy0ai.89aHfdJ4c6N2bY6BEXieYR6SKH8zEwm', '2021-12-13 07:59:58.009384', '2021-12-13 07:59:58.009384')[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_additem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:00:01 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 59.6ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 190.6ms | Allocations: 36709)
Completed 200 OK in 203ms (Views: 191.9ms | ActiveRecord: 0.0ms | Allocations: 40537)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:00:01 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:00:03 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38845/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1306)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:00:03 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (17.1ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:00:03.420731"], ["updated_at", "2021-12-13 08:00:03.420731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.2ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.6ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 2900)
Completed 200 OK in 161ms (Views: 15.1ms | ActiveRecord: 17.9ms | Allocations: 12209)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:00:03 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (36.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 167.5ms | Allocations: 10002)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 169.9ms | Allocations: 12237)
Completed 200 OK in 420ms (Views: 61.2ms | ActiveRecord: 110.1ms | Allocations: 28207)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:00:04 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (91.7ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:00:04.550145"], ["updated_at", "2021-12-13 08:00:04.550145"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (60.5ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:00:04.646680"], ["updated_at", "2021-12-13 08:00:04.646680"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38845/store/jj
Completed 302 Found in 163ms (ActiveRecord: 152.9ms | Allocations: 7663)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:00:04 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 65.6ms | Allocations: 4294)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 84.1ms | Allocations: 6306)
Completed 200 OK in 166ms (Views: 122.1ms | ActiveRecord: 2.9ms | Allocations: 8636)
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (5.5ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:02:46.121973', '2021-12-13 08:02:46.121973');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:02:46.121973', '2021-12-13 08:02:46.121973');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:02:46.122965', '2021-12-13 08:02:46.122965');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:02:46.123681', '2021-12-13 08:02:46.123681');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:02:46.123681', '2021-12-13 08:02:46.123681');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:02:46.124380', '2021-12-13 08:02:46.124380');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:02:46.124380', '2021-12-13 08:02:46.124380');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:02:46.124872', '2021-12-13 08:02:46.124872');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:02:46.124872', '2021-12-13 08:02:46.124872');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:02:46.140228', '2021-12-13 08:02:46.140228');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:02:46.140228', '2021-12-13 08:02:46.140228');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:02:46.140854', '2021-12-13 08:02:46.140854');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:02:46.140854', '2021-12-13 08:02:46.140854');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:02:46.141609', '2021-12-13 08:02:46.141609', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:02:46.141609', '2021-12-13 08:02:46.141609', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:02:46.142234', '2021-12-13 08:02:46.142234', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:02:46.142234', '2021-12-13 08:02:46.142234', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:02:46.142842', '2021-12-13 08:02:46.142842');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:02:46.142842', '2021-12-13 08:02:46.142842');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:02:46.143449', '2021-12-13 08:02:46.143449');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:02:46.143449', '2021-12-13 08:02:46.143449');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$neCc5sWOvFEGLsHabg7AnuyFRHc3oxtLJNHr8wyb1JJJlYka6RMou', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:02:46.144131', '2021-12-13 08:02:46.144131');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$4Z.SptzlodSnMd5mQ63C2.GrLlmZJ8qplmYsmiUVCJtmvgt3G45tS', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:02:46.144131', '2021-12-13 08:02:46.144131');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$qzg8TkY7Cw6PZlq164dnT.xbGf8NPQ0semQgLfy3/vCRjfTAH.8g6', '2021-12-13 08:02:46.144131', '2021-12-13 08:02:46.144131')[0m
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_remitem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:02:49 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 20.5ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 102.0ms | Allocations: 36765)
Completed 200 OK in 114ms (Views: 103.5ms | ActiveRecord: 0.0ms | Allocations: 40594)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:02:50 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:02:51 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38753/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1314)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:02:51 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (18.1ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:02:51.473160"], ["updated_at", "2021-12-13 08:02:51.473160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.6ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 2900)
Completed 200 OK in 83ms (Views: 35.2ms | ActiveRecord: 18.7ms | Allocations: 12250)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:02:51 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 83.4ms | Allocations: 10002)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 85.6ms | Allocations: 12239)
Completed 200 OK in 149ms (Views: 85.9ms | ActiveRecord: 1.1ms | Allocations: 28223)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:02:52 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (22.8ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:02:52.819548"], ["updated_at", "2021-12-13 08:02:52.819548"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (41.9ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:02:52.847249"], ["updated_at", "2021-12-13 08:02:52.847249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38753/store/jj
Completed 302 Found in 130ms (ActiveRecord: 65.3ms | Allocations: 7625)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:02:52 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4292)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 66.0ms | Allocations: 6302)
Completed 200 OK in 70ms (Views: 66.1ms | ActiveRecord: 0.5ms | Allocations: 8640)
Started POST "/store/rembucket/1" for 127.0.0.1 at 2021-12-13 15:02:53 +0700
Processing by StoresController#decitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."item_id" = ? AND "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["item_id", 1], ["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Bucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:38753/store/jj
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1775)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:02:53 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 64.5ms | Allocations: 3800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 112.0ms | Allocations: 5814)
Completed 200 OK in 117ms (Views: 112.1ms | ActiveRecord: 0.5ms | Allocations: 7685)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.2ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:04:31.825368', '2021-12-13 08:04:31.825368');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:04:31.825368', '2021-12-13 08:04:31.825368');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:04:31.826481', '2021-12-13 08:04:31.826481');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:04:31.827063', '2021-12-13 08:04:31.827063');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:04:31.827063', '2021-12-13 08:04:31.827063');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:04:31.827552', '2021-12-13 08:04:31.827552');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:04:31.827552', '2021-12-13 08:04:31.827552');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:04:31.830424', '2021-12-13 08:04:31.830424');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:04:31.830424', '2021-12-13 08:04:31.830424');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:04:31.831184', '2021-12-13 08:04:31.831184');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:04:31.831184', '2021-12-13 08:04:31.831184');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:04:31.831883', '2021-12-13 08:04:31.831883');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:04:31.831883', '2021-12-13 08:04:31.831883');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:04:31.832798', '2021-12-13 08:04:31.832798', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:04:31.832798', '2021-12-13 08:04:31.832798', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:04:31.833366', '2021-12-13 08:04:31.833366', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:04:31.833366', '2021-12-13 08:04:31.833366', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:04:31.834008', '2021-12-13 08:04:31.834008');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:04:31.834008', '2021-12-13 08:04:31.834008');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:04:31.834763', '2021-12-13 08:04:31.834763');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:04:31.834763', '2021-12-13 08:04:31.834763');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$UonrfmuVwIGPvQbgvSClRePD75HrP42pWRFXYZJCBZ05M1A7ssjFq', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:04:31.835670', '2021-12-13 08:04:31.835670');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$RzhI5ow5XULNcUd7VbFzLO3ixyavXvyRBlGlslJ5Vt.fcMP65zDhG', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:04:31.835670', '2021-12-13 08:04:31.835670');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$9BNacepskJrbOYOa1Ygol.MzhVfU1Exn89pvEKzW89gW9c3G6.p7S', '2021-12-13 08:04:31.835670', '2021-12-13 08:04:31.835670')[0m
  [1m[36mTRANSACTION (22.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_buyitem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:04:36 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 344.2ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 437.8ms | Allocations: 36838)
Completed 200 OK in 498ms (Views: 456.6ms | ActiveRecord: 0.0ms | Allocations: 40666)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:04:37 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:04:38 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:36429/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1308)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:04:38 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (49.1ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:04:38.858240"], ["updated_at", "2021-12-13 08:04:38.858240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.8ms | Allocations: 702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 2899)
Completed 200 OK in 144ms (Views: 3.2ms | ActiveRecord: 49.7ms | Allocations: 12211)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:04:39 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 23.3ms | Allocations: 10002)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 12237)
Completed 200 OK in 77ms (Views: 25.9ms | ActiveRecord: 1.1ms | Allocations: 28209)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:04:39 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (28.9ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:04:39.815420"], ["updated_at", "2021-12-13 08:04:39.815420"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (50.4ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:04:39.849281"], ["updated_at", "2021-12-13 08:04:39.849281"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:36429/store/jj
Completed 302 Found in 90ms (ActiveRecord: 80.0ms | Allocations: 7669)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:04:39 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (24.7ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (1.3ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 84.7ms | Allocations: 4294)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 108.8ms | Allocations: 6306)
Completed 200 OK in 169ms (Views: 108.7ms | ActiveRecord: 26.8ms | Allocations: 8644)
Started GET "/confirmpur/3" for 127.0.0.1 at 2021-12-13 15:04:40 +0700
Processing by StoresController#confirmpur as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (3) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/confirmpur.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/confirmpur.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1664)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 1709)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 2909)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (9.1ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:05:44.446155', '2021-12-13 08:05:44.446155');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:05:44.446155', '2021-12-13 08:05:44.446155');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:05:44.447175', '2021-12-13 08:05:44.447175');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:05:44.447686', '2021-12-13 08:05:44.447686');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:05:44.447686', '2021-12-13 08:05:44.447686');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:05:44.457714', '2021-12-13 08:05:44.457714');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:05:44.457714', '2021-12-13 08:05:44.457714');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:05:44.458351', '2021-12-13 08:05:44.458351');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:05:44.458351', '2021-12-13 08:05:44.458351');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:05:44.465027', '2021-12-13 08:05:44.465027');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:05:44.465027', '2021-12-13 08:05:44.465027');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:05:44.465685', '2021-12-13 08:05:44.465685');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:05:44.465685', '2021-12-13 08:05:44.465685');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:05:44.466255', '2021-12-13 08:05:44.466255', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:05:44.466255', '2021-12-13 08:05:44.466255', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:05:44.466793', '2021-12-13 08:05:44.466793', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:05:44.466793', '2021-12-13 08:05:44.466793', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:05:44.467466', '2021-12-13 08:05:44.467466');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:05:44.467466', '2021-12-13 08:05:44.467466');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:05:44.468026', '2021-12-13 08:05:44.468026');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:05:44.468026', '2021-12-13 08:05:44.468026');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$JbrrYf6L4xBYRBMCe1Nd8u4uAOxu76zwZFc7LgZN90c/0QpyMqJia', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:05:44.468538', '2021-12-13 08:05:44.468538');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$fS7PHyjyyG/ACmx7xUwRteJvLQWvi6btiTqwykVofIYD9NGFmNMKm', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:05:44.468538', '2021-12-13 08:05:44.468538');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$P5H6pryNjh7qvafcGiSMHe8vquHQw4ENVSdrOi8g9ZO2IqZlDmq.6', '2021-12-13 08:05:44.468538', '2021-12-13 08:05:44.468538')[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_buyitem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:05:48 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 51.9ms | Allocations: 16037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 105.1ms | Allocations: 36914)
Completed 200 OK in 125ms (Views: 120.5ms | ActiveRecord: 0.0ms | Allocations: 40742)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:05:48 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:05:49 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:39027/user/a
Completed 302 Found in 61ms (ActiveRecord: 0.2ms | Allocations: 1320)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:05:50 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (3.6ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:05:50.123722"], ["updated_at", "2021-12-13 08:05:50.123722"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.7ms | Allocations: 702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 2901)
Completed 200 OK in 106ms (Views: 3.1ms | ActiveRecord: 4.2ms | Allocations: 12223)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:05:50 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 108.2ms | Allocations: 10003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 110.7ms | Allocations: 12238)
Completed 200 OK in 362ms (Views: 151.9ms | ActiveRecord: 1.0ms | Allocations: 28169)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:05:51 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (62.1ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:05:51.158016"], ["updated_at", "2021-12-13 08:05:51.158016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (6.9ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:05:51.286120"], ["updated_at", "2021-12-13 08:05:51.286120"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:39027/store/jj
Completed 302 Found in 204ms (ActiveRecord: 69.6ms | Allocations: 7630)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:05:51 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (16.7ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 97.8ms | Allocations: 4293)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 108.6ms | Allocations: 6303)
Completed 200 OK in 140ms (Views: 110.2ms | ActiveRecord: 17.5ms | Allocations: 8637)
Started GET "/confirmpur/3" for 127.0.0.1 at 2021-12-13 15:05:51 +0700
Processing by StoresController#confirmpur as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (3) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/confirmpur.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/confirmpur.html.erb within layouts/application (Duration: 1.0ms | Allocations: 689)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 41.6ms | Allocations: 2705)
Completed 200 OK in 73ms (Views: 41.8ms | ActiveRecord: 0.3ms | Allocations: 3896)
Started POST "/confirmpur/1" for 127.0.0.1 at 2021-12-13 15:05:52 +0700
Processing by StoresController#recordpur as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Create (19.5ms)[0m  [1m[32mINSERT INTO "orders" ("purdate", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["purdate", "2021-12-13"], ["created_at", "2021-12-13 08:05:52.294348"], ["updated_at", "2021-12-13 08:05:52.294348"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrderline Create (20.3ms)[0m  [1m[32mINSERT INTO "orderlines" ("item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["item_id", 1], ["quantity", 1], ["soldprice", 50], ["order_id", 3], ["created_at", "2021-12-13 08:05:52.320090"], ["updated_at", "2021-12-13 08:05:52.320090"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:39027/tracking
Completed 302 Found in 53ms (ActiveRecord: 40.6ms | Allocations: 8503)
Started GET "/tracking" for 127.0.0.1 at 2021-12-13 15:05:52 +0700
Processing by UsersController#track as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (26.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mOrderline Load (0.2ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/track.html.erb within layouts/application
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered users/track.html.erb within layouts/application (Duration: 1.0ms | Allocations: 706)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 2728)
Completed 200 OK in 32ms (Views: 3.4ms | ActiveRecord: 26.8ms | Allocations: 3905)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (8.0ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:07:32.543049', '2021-12-13 08:07:32.543049');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:07:32.543049', '2021-12-13 08:07:32.543049');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:07:32.544056', '2021-12-13 08:07:32.544056');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:07:32.544641', '2021-12-13 08:07:32.544641');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:07:32.544641', '2021-12-13 08:07:32.544641');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:07:32.545410', '2021-12-13 08:07:32.545410');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:07:32.545410', '2021-12-13 08:07:32.545410');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:07:32.545939', '2021-12-13 08:07:32.545939');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:07:32.545939', '2021-12-13 08:07:32.545939');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:07:32.546533', '2021-12-13 08:07:32.546533');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:07:32.546533', '2021-12-13 08:07:32.546533');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:07:32.547113', '2021-12-13 08:07:32.547113');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:07:32.547113', '2021-12-13 08:07:32.547113');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:07:32.559849', '2021-12-13 08:07:32.559849', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:07:32.559849', '2021-12-13 08:07:32.559849', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:07:32.560547', '2021-12-13 08:07:32.560547', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:07:32.560547', '2021-12-13 08:07:32.560547', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:07:32.561129', '2021-12-13 08:07:32.561129');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:07:32.561129', '2021-12-13 08:07:32.561129');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:07:32.561744', '2021-12-13 08:07:32.561744');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:07:32.561744', '2021-12-13 08:07:32.561744');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$xW7M8CRE2ezIvZm1aH4RMe1IqPp95tuuFH0VVYeKdg.57xRsxShLG', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:07:32.562385', '2021-12-13 08:07:32.562385');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$If6vAJwpMiYKDeWF.h4qyenLWwZKyXdT.ldOYlzHfl/tUk4hNrsX6', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:07:32.562385', '2021-12-13 08:07:32.562385');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$Uuba1Eu7Jp03QmTnZOYq3uZ0AuYOUXo23uM818ZQtInq4nSoUBzfG', '2021-12-13 08:07:32.562385', '2021-12-13 08:07:32.562385')[0m
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_buyitem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:07:36 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 29.3ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 85.8ms | Allocations: 36976)
Completed 200 OK in 99ms (Views: 87.3ms | ActiveRecord: 0.0ms | Allocations: 40805)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:07:36 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:07:38 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44767/user/a
Completed 302 Found in 84ms (ActiveRecord: 0.3ms | Allocations: 1330)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:07:38 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (20.9ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:07:38.292241"], ["updated_at", "2021-12-13 08:07:38.292241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.6ms | Allocations: 702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2901)
Completed 200 OK in 82ms (Views: 7.0ms | ActiveRecord: 21.5ms | Allocations: 12257)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:07:38 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.2ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 141.0ms | Allocations: 10002)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 156.4ms | Allocations: 12237)
Completed 200 OK in 446ms (Views: 156.7ms | ActiveRecord: 1.4ms | Allocations: 28170)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:07:39 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (5.3ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:07:39.410663"], ["updated_at", "2021-12-13 08:07:39.410663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (48.7ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:07:39.447436"], ["updated_at", "2021-12-13 08:07:39.447436"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44767/store/jj
Completed 302 Found in 91ms (ActiveRecord: 54.7ms | Allocations: 7638)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:07:39 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 31.3ms | Allocations: 4292)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 2.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 120.5ms | Allocations: 6302)
Completed 200 OK in 124ms (Views: 120.4ms | ActiveRecord: 0.7ms | Allocations: 8644)
Started GET "/confirmpur/3" for 127.0.0.1 at 2021-12-13 15:07:40 +0700
Processing by StoresController#confirmpur as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (3) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/confirmpur.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/confirmpur.html.erb within layouts/application (Duration: 1.3ms | Allocations: 689)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 2701)
Completed 200 OK in 43ms (Views: 4.1ms | ActiveRecord: 0.3ms | Allocations: 3900)
Started POST "/confirmpur/1" for 127.0.0.1 at 2021-12-13 15:07:40 +0700
Processing by StoresController#recordpur as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Create (45.3ms)[0m  [1m[32mINSERT INTO "orders" ("purdate", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["purdate", "2021-12-13"], ["created_at", "2021-12-13 08:07:40.626787"], ["updated_at", "2021-12-13 08:07:40.626787"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrderline Create (58.0ms)[0m  [1m[32mINSERT INTO "orderlines" ("item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["item_id", 1], ["quantity", 1], ["soldprice", 50], ["order_id", 3], ["created_at", "2021-12-13 08:07:40.682433"], ["updated_at", "2021-12-13 08:07:40.682433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:44767/tracking
Completed 302 Found in 120ms (ActiveRecord: 104.3ms | Allocations: 8505)
Started GET "/tracking" for 127.0.0.1 at 2021-12-13 15:07:40 +0700
Processing by UsersController#track as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mOrderline Load (0.1ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/track.html.erb within layouts/application
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered users/track.html.erb within layouts/application (Duration: 1.0ms | Allocations: 705)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 2722)
Completed 200 OK in 51ms (Views: 48.8ms | ActiveRecord: 0.2ms | Allocations: 3895)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (5.3ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:09:15.810485', '2021-12-13 08:09:15.810485');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:09:15.810485', '2021-12-13 08:09:15.810485');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:09:15.811427', '2021-12-13 08:09:15.811427');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:09:15.811949', '2021-12-13 08:09:15.811949');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:09:15.811949', '2021-12-13 08:09:15.811949');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:09:15.812572', '2021-12-13 08:09:15.812572');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:09:15.812572', '2021-12-13 08:09:15.812572');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:09:15.813184', '2021-12-13 08:09:15.813184');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:09:15.813184', '2021-12-13 08:09:15.813184');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:09:15.813820', '2021-12-13 08:09:15.813820');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:09:15.813820', '2021-12-13 08:09:15.813820');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:09:15.814367', '2021-12-13 08:09:15.814367');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:09:15.814367', '2021-12-13 08:09:15.814367');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:09:15.815071', '2021-12-13 08:09:15.815071', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:09:15.815071', '2021-12-13 08:09:15.815071', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:09:15.815640', '2021-12-13 08:09:15.815640', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:09:15.815640', '2021-12-13 08:09:15.815640', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:09:15.816208', '2021-12-13 08:09:15.816208');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:09:15.816208', '2021-12-13 08:09:15.816208');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:09:15.816775', '2021-12-13 08:09:15.816775');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:09:15.816775', '2021-12-13 08:09:15.816775');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$kjZFs3ToZMU5QuPgAo4R6.IVXKEWXEAmLsxG5.BIUU8BobeLXUnSC', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:09:15.817711', '2021-12-13 08:09:15.817711');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$CPP1Kb7eSHsQJt/cEKZ2luJx1p96PA7baZBdpiLcdFmcVb2rO0ALe', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:09:15.817711', '2021-12-13 08:09:15.817711');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$pY1NNkzMmjE5rdd2KnmuFuYbVBAh/ePo8t.G5zFBqHzQD8rIZgcvq', '2021-12-13 08:09:15.817711', '2021-12-13 08:09:15.817711')[0m
  [1m[36mTRANSACTION (17.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------
UsersTest: test_vieworder
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:09:19 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 29.5ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 101.3ms | Allocations: 37051)
Completed 200 OK in 122ms (Views: 102.7ms | ActiveRecord: 0.0ms | Allocations: 40880)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:09:19 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:09:21 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:42193/user/a
Completed 302 Found in 28ms (ActiveRecord: 0.2ms | Allocations: 1318)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:09:21 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (29.3ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:09:21.424807"], ["updated_at", "2021-12-13 08:09:21.424807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.6ms | Allocations: 702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 2899)
Completed 200 OK in 126ms (Views: 16.7ms | ActiveRecord: 29.9ms | Allocations: 12256)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:09:21 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (10.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 51.9ms | Allocations: 10001)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 55.0ms | Allocations: 12236)
Completed 200 OK in 173ms (Views: 55.1ms | ActiveRecord: 11.8ms | Allocations: 28204)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:09:22 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (50.4ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:09:22.551099"], ["updated_at", "2021-12-13 08:09:22.551099"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (23.1ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:09:22.605825"], ["updated_at", "2021-12-13 08:09:22.605825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:42193/store/jj
Completed 302 Found in 100ms (ActiveRecord: 74.3ms | Allocations: 7645)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:09:22 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 29.6ms | Allocations: 4293)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 62.2ms | Allocations: 6305)
Completed 200 OK in 82ms (Views: 78.2ms | ActiveRecord: 0.6ms | Allocations: 8645)
Started GET "/confirmpur/3" for 127.0.0.1 at 2021-12-13 15:09:23 +0700
Processing by StoresController#confirmpur as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (3) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/confirmpur.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/confirmpur.html.erb within layouts/application (Duration: 1.4ms | Allocations: 689)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 2701)
Completed 200 OK in 19ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 3897)
Started POST "/confirmpur/1" for 127.0.0.1 at 2021-12-13 15:09:23 +0700
Processing by StoresController#recordpur as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Create (19.6ms)[0m  [1m[32mINSERT INTO "orders" ("purdate", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["purdate", "2021-12-13"], ["created_at", "2021-12-13 08:09:23.616627"], ["updated_at", "2021-12-13 08:09:23.616627"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrderline Create (18.3ms)[0m  [1m[32mINSERT INTO "orderlines" ("item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["item_id", 1], ["quantity", 1], ["soldprice", 50], ["order_id", 3], ["created_at", "2021-12-13 08:09:23.668228"], ["updated_at", "2021-12-13 08:09:23.668228"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:42193/tracking
Completed 302 Found in 77ms (ActiveRecord: 38.7ms | Allocations: 8507)
Started GET "/tracking" for 127.0.0.1 at 2021-12-13 15:09:23 +0700
Processing by UsersController#track as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mOrderline Load (0.1ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/track.html.erb within layouts/application
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered users/track.html.erb within layouts/application (Duration: 1.2ms | Allocations: 704)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 2721)
Completed 200 OK in 64ms (Views: 62.3ms | ActiveRecord: 0.2ms | Allocations: 3907)
Started GET "/order/3" for 127.0.0.1 at 2021-12-13 15:09:24 +0700
Processing by UsersController#vieworder as HTML
  Parameters: {"order_id"=>"3"}
  [1m[36mOrderline Load (0.2ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/vieworder.html.erb within layouts/application
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/vieworder.html.erb within layouts/application (Duration: 21.7ms | Allocations: 1743)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 1788)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.3ms | Allocations: 2540)
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (5.8ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:10:22.052856', '2021-12-13 08:10:22.052856');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:10:22.052856', '2021-12-13 08:10:22.052856');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:10:22.053849', '2021-12-13 08:10:22.053849');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:10:22.054373', '2021-12-13 08:10:22.054373');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:10:22.054373', '2021-12-13 08:10:22.054373');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:10:22.064444', '2021-12-13 08:10:22.064444');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:10:22.064444', '2021-12-13 08:10:22.064444');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:10:22.065045', '2021-12-13 08:10:22.065045');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:10:22.065045', '2021-12-13 08:10:22.065045');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:10:22.078488', '2021-12-13 08:10:22.078488');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:10:22.078488', '2021-12-13 08:10:22.078488');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:10:22.079359', '2021-12-13 08:10:22.079359');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:10:22.079359', '2021-12-13 08:10:22.079359');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:10:22.079918', '2021-12-13 08:10:22.079918', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:10:22.079918', '2021-12-13 08:10:22.079918', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:10:22.080551', '2021-12-13 08:10:22.080551', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:10:22.080551', '2021-12-13 08:10:22.080551', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:10:22.081173', '2021-12-13 08:10:22.081173');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:10:22.081173', '2021-12-13 08:10:22.081173');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:10:22.081746', '2021-12-13 08:10:22.081746');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:10:22.081746', '2021-12-13 08:10:22.081746');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$K6dDet2nCdKS8ejyECYwUeEBhMUEjTSkMHqOxPxi8Vtb0Aegx.QWy', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:10:22.082256', '2021-12-13 08:10:22.082256');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$1wH6M3O/KoWTwA8ahT0tCO6Znn.k9r7v7mCi4mZmRTx47C9A1x0bK', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:10:22.082256', '2021-12-13 08:10:22.082256');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$LzGeUKx1cc.rOgxVmj0SD.Pbjzj4g9NRn/jwwAwKfXpWPJyIV4Vti', '2021-12-13 08:10:22.082256', '2021-12-13 08:10:22.082256')[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------
UsersTest: test_vieworder
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:10:25 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 95.2ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 232.5ms | Allocations: 37123)
Completed 200 OK in 239ms (Views: 234.0ms | ActiveRecord: 0.0ms | Allocations: 40951)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:10:26 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:10:27 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:34285/user/a
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1318)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:10:27 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (44.6ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:10:27.636197"], ["updated_at", "2021-12-13 08:10:27.636197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 47.6ms | Allocations: 702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 3.0ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 96.2ms | Allocations: 2900)
Completed 200 OK in 180ms (Views: 97.5ms | ActiveRecord: 45.2ms | Allocations: 12218)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:10:28 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 35.8ms | Allocations: 10003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | Allocations: 12239)
Completed 200 OK in 78ms (Views: 38.5ms | ActiveRecord: 0.9ms | Allocations: 28190)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:10:28 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (89.3ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:10:28.625228"], ["updated_at", "2021-12-13 08:10:28.625228"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (83.4ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:10:28.719057"], ["updated_at", "2021-12-13 08:10:28.719057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:34285/store/jj
Completed 302 Found in 185ms (ActiveRecord: 173.2ms | Allocations: 7628)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:10:28 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 54.0ms | Allocations: 4293)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 74.0ms | Allocations: 6303)
Completed 200 OK in 139ms (Views: 75.9ms | ActiveRecord: 0.9ms | Allocations: 8641)
Started GET "/confirmpur/3" for 127.0.0.1 at 2021-12-13 15:10:29 +0700
Processing by StoresController#confirmpur as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (3) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/confirmpur.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/confirmpur.html.erb within layouts/application (Duration: 1.2ms | Allocations: 689)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 72.9ms | Allocations: 2705)
Completed 200 OK in 75ms (Views: 73.1ms | ActiveRecord: 0.2ms | Allocations: 3910)
Started POST "/confirmpur/1" for 127.0.0.1 at 2021-12-13 15:10:29 +0700
Processing by StoresController#recordpur as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Create (3.1ms)[0m  [1m[32mINSERT INTO "orders" ("purdate", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["purdate", "2021-12-13"], ["created_at", "2021-12-13 08:10:29.892845"], ["updated_at", "2021-12-13 08:10:29.892845"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrderline Create (19.1ms)[0m  [1m[32mINSERT INTO "orderlines" ("item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["item_id", 1], ["quantity", 1], ["soldprice", 50], ["order_id", 3], ["created_at", "2021-12-13 08:10:29.995513"], ["updated_at", "2021-12-13 08:10:29.995513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:34285/tracking
Completed 302 Found in 128ms (ActiveRecord: 23.1ms | Allocations: 8505)
Started GET "/tracking" for 127.0.0.1 at 2021-12-13 15:10:30 +0700
Processing by UsersController#track as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mOrderline Load (0.2ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/track.html.erb within layouts/application
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered users/track.html.erb within layouts/application (Duration: 0.9ms | Allocations: 705)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 2727)
Completed 200 OK in 42ms (Views: 39.8ms | ActiveRecord: 0.3ms | Allocations: 3904)
Started GET "/order/3" for 127.0.0.1 at 2021-12-13 15:10:30 +0700
Processing by UsersController#vieworder as HTML
  Parameters: {"order_id"=>"3"}
  [1m[36mOrderline Load (0.1ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/vieworder.html.erb within layouts/application
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/vieworder.html.erb within layouts/application (Duration: 1.1ms | Allocations: 702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 2728)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.1ms | Allocations: 3482)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (20.2ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:13:54.702309', '2021-12-13 08:13:54.702309');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:13:54.702309', '2021-12-13 08:13:54.702309');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:13:54.703218', '2021-12-13 08:13:54.703218');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:13:54.715623', '2021-12-13 08:13:54.715623');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:13:54.715623', '2021-12-13 08:13:54.715623');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:13:54.716561', '2021-12-13 08:13:54.716561');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:13:54.716561', '2021-12-13 08:13:54.716561');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:13:54.717095', '2021-12-13 08:13:54.717095');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:13:54.717095', '2021-12-13 08:13:54.717095');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:13:54.717757', '2021-12-13 08:13:54.717757');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:13:54.717757', '2021-12-13 08:13:54.717757');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:13:54.718286', '2021-12-13 08:13:54.718286');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:13:54.718286', '2021-12-13 08:13:54.718286');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:13:54.718834', '2021-12-13 08:13:54.718834', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:13:54.718834', '2021-12-13 08:13:54.718834', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:13:54.719374', '2021-12-13 08:13:54.719374', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:13:54.719374', '2021-12-13 08:13:54.719374', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:13:54.719944', '2021-12-13 08:13:54.719944');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:13:54.719944', '2021-12-13 08:13:54.719944');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:13:54.720549', '2021-12-13 08:13:54.720549');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:13:54.720549', '2021-12-13 08:13:54.720549');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$hb1iz/EcwF6Va0PKSI.bNukGSktmbtEPI6KQodIy2.ka63geT0cKS', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:13:54.721014', '2021-12-13 08:13:54.721014');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$ItRi4QjsliYNl5Y6i4IzJO8zYJsYRdQC.XdSpGRzW/5qWjhIefWki', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:13:54.721014', '2021-12-13 08:13:54.721014');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$c9yIjYDf7qTRhVgg/CjL0O9ASDnmTXE.nPeyM6ij97LeKBynld9JS', '2021-12-13 08:13:54.721014', '2021-12-13 08:13:54.721014')[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_comment
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:13:58 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 91.8ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.7ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 248.0ms | Allocations: 37193)
Completed 200 OK in 270ms (Views: 249.8ms | ActiveRecord: 0.0ms | Allocations: 41021)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:13:58 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:14:00 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:42643/user/a
Completed 302 Found in 72ms (ActiveRecord: 0.3ms | Allocations: 1320)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:14:00 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (58.4ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:14:00.290639"], ["updated_at", "2021-12-13 08:14:00.290639"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.7ms | Allocations: 703)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 6.6ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 2902)
Completed 200 OK in 98ms (Views: 9.8ms | ActiveRecord: 59.0ms | Allocations: 12228)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:14:00 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 62.5ms | Allocations: 10003)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 64.5ms | Allocations: 12238)
Completed 200 OK in 112ms (Views: 64.7ms | ActiveRecord: 1.0ms | Allocations: 28173)
Started POST "/comment" for 127.0.0.1 at 2021-12-13 15:14:01 +0700
Processing by StoresController#addcomment as HTML
  Parameters: {"rating"=>{"store_id"=>"1", "user_id"=>"3", "ratescore"=>"5", "comment"=>"JOOOOJO"}, "commit"=>"Create Rating"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Create (32.8ms)[0m  [1m[32mINSERT INTO "ratings" ("comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["comdate", "2021-12-13"], ["ratescore", 5.0], ["comment", "JOOOOJO"], ["user_id", 3], ["created_at", "2021-12-13 08:14:01.641707"], ["updated_at", "2021-12-13 08:14:01.641707"], ["store_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:42643/store/jj
Completed 302 Found in 53ms (ActiveRecord: 33.1ms | Allocations: 2149)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:14:01 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (28.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 107.7ms | Allocations: 4320)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 119.7ms | Allocations: 6330)
Completed 200 OK in 177ms (Views: 97.6ms | ActiveRecord: 28.6ms | Allocations: 8278)
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (17.5ms)[0m  [1m[31mDELETE FROM "bucketitems";
DELETE FROM "bucketlibs";
DELETE FROM "favitems";
DELETE FROM "favlibs";
DELETE FROM "items";
DELETE FROM "itemtags";
DELETE FROM "orderlines";
DELETE FROM "orders";
DELETE FROM "ratings";
DELETE FROM "stores";
DELETE FROM "taglibs";
DELETE FROM "users";
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:16:49.089069', '2021-12-13 08:16:49.089069');
INSERT INTO "bucketitems" ("id", "item_id", "bucketlib_id", "created_at", "updated_at") VALUES (298486374, 2, 1, '2021-12-13 08:16:49.089069', '2021-12-13 08:16:49.089069');
INSERT INTO "bucketlibs" ("id", "user_id", "quantity", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:16:49.090071', '2021-12-13 08:16:49.090071');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (1, 1, 1, '2021-12-13 08:16:49.090727', '2021-12-13 08:16:49.090727');
INSERT INTO "favitems" ("id", "item_id", "favlib_id", "created_at", "updated_at") VALUES (2, 2, 2, '2021-12-13 08:16:49.090727', '2021-12-13 08:16:49.090727');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (1, 2, '2021-12-13 08:16:49.091242', '2021-12-13 08:16:49.091242');
INSERT INTO "favlibs" ("id", "user_id", "created_at", "updated_at") VALUES (2, 2, '2021-12-13 08:16:49.091242', '2021-12-13 08:16:49.091242');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (1, 'stonemask', 50.0, 'MyString', 1, '2021-12-13 08:16:49.091692', '2021-12-13 08:16:49.091692');
INSERT INTO "items" ("id", "name", "price", "desc", "store_id", "created_at", "updated_at") VALUES (2, 'starp', 25.0, 'MyString', 2, '2021-12-13 08:16:49.091692', '2021-12-13 08:16:49.091692');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (980190962, 1, 1, '2021-12-13 08:16:49.092429', '2021-12-13 08:16:49.092429');
INSERT INTO "itemtags" ("id", "item_id", "taglib_id", "created_at", "updated_at") VALUES (298486374, 2, 2, '2021-12-13 08:16:49.092429', '2021-12-13 08:16:49.092429');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (1, 1, 1, 1, 1, '2021-12-13 08:16:49.093111', '2021-12-13 08:16:49.093111');
INSERT INTO "orderlines" ("id", "item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (2, 2, 1, 1, 1, '2021-12-13 08:16:49.093111', '2021-12-13 08:16:49.093111');
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (1, '2021-12-13', '2021-12-13 08:16:49.093655', '2021-12-13 08:16:49.093655', 1);
INSERT INTO "orders" ("id", "purdate", "created_at", "updated_at", "user_id") VALUES (2, '2021-12-13', '2021-12-13 08:16:49.093655', '2021-12-13 08:16:49.093655', 2);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (1, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:16:49.097826', '2021-12-13 08:16:49.097826', 1);
INSERT INTO "ratings" ("id", "comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (2, '2021-12-13', 1.5, 'MyString', 1, '2021-12-13 08:16:49.097826', '2021-12-13 08:16:49.097826', 1);
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (1, 'jj', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:16:49.098490', '2021-12-13 08:16:49.098490');
INSERT INTO "stores" ("id", "name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (2, 'MyString', 'MyString', 'MyString', '2021-12-09', 1.5, '2021-12-13 08:16:49.098490', '2021-12-13 08:16:49.098490');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (1, 'MyString', '2021-12-13 08:16:49.099573', '2021-12-13 08:16:49.099573');
INSERT INTO "taglibs" ("id", "tag_name", "created_at", "updated_at") VALUES (2, 'MyString', '2021-12-13 08:16:49.099573', '2021-12-13 08:16:49.099573');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (1, 'MyString', '$2a$04$Saix/rJV9uf5bAuTwcwT1u4qEcUkU3vpExwYbSPF9uCPyl.VknAvy', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:16:49.100083', '2021-12-13 08:16:49.100083');
INSERT INTO "users" ("id", "username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (2, 'MyString', '$2a$04$IkoDwMyypWeWAYfIXxelOeRaJLotp2b4OFQhJFgytP/hfEQkSw./a', 'MyString', 'MyString', 'MyString', 'MyString', 'MyString', '2021-12-09', '2021-12-13 08:16:49.100083', '2021-12-13 08:16:49.100083');
INSERT INTO "users" ("id", "username", "password_digest", "created_at", "updated_at") VALUES (3, 'a', '$2a$04$noVu86Qit6jpUNBXI8yqkeOS2amh2SCcc90YLGiXeRWjM7YLDeWtm', '2021-12-13 08:16:49.100083', '2021-12-13 08:16:49.100083')[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
UsersTest: test_login-sucess
----------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:16:52 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 43.8ms | Allocations: 16036)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 192.3ms | Allocations: 37265)
Completed 200 OK in 211ms (Views: 193.9ms | ActiveRecord: 0.0ms | Allocations: 41094)
Started GET "/assets/application-04c3ae28f07e1bf734223bf526d0cdd296440ef53bcb3f80b9f093c6bf02f747.css" for 127.0.0.1 at 2021-12-13 15:16:53 +0700
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:16:54 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/user/a
Completed 302 Found in 48ms (ActiveRecord: 0.3ms | Allocations: 1330)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:16:54 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (49.7ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:16:54.976290"], ["updated_at", "2021-12-13 08:16:54.976290"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.6ms | Allocations: 701)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 118)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2900)
Completed 200 OK in 87ms (Views: 7.3ms | ActiveRecord: 50.4ms | Allocations: 12273)
  [1m[36mTRANSACTION (31.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
UsersTest: test_login-fail
--------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:16:55 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 3525)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 4015)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:16:56 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/login
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 609)
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:16:56 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1245)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 65.4ms | Allocations: 3283)
Completed 200 OK in 66ms (Views: 65.7ms | ActiveRecord: 0.0ms | Allocations: 3770)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UsersTest: test_register-seller-success
---------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:16:57 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 3525)
Completed 200 OK in 31ms (Views: 30.7ms | ActiveRecord: 0.0ms | Allocations: 4015)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:16:57 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:44955/choosetype
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 327)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 15:16:57 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.3ms | Allocations: 218)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2251)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 2865)
Started GET "/stores/new" for 127.0.0.1 at 2021-12-13 15:16:58 +0700
Processing by StoresController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 51.9ms | Allocations: 11760)
  Rendered stores/new.html.erb within layouts/application (Duration: 52.4ms | Allocations: 12126)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 98)
  Rendered layout layouts/application.html.erb (Duration: 55.4ms | Allocations: 14383)
Completed 200 OK in 86ms (Views: 56.0ms | ActiveRecord: 0.3ms | Allocations: 18742)
Started POST "/stores" for 127.0.0.1 at 2021-12-13 15:16:58 +0700
Processing by StoresController#create as HTML
  Parameters: {"store"=>{"name"=>"a", "password"=>"[FILTERED]", "address"=>"", "joindate(1i)"=>"2021", "joindate(2i)"=>"12", "joindate(3i)"=>"13", "rating"=>"0"}, "commit"=>"Create Store"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStore Create (44.9ms)[0m  [1m[32mINSERT INTO "stores" ("name", "password_digest", "address", "joindate", "rating", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "a"], ["password_digest", "$2a$04$6kuTyE7WbmVn6WWOfJ7R1.TXQeQKmUWmUIdWvrhy5X/PpUux4wxnC"], ["address", ""], ["joindate", "2021-12-13"], ["rating", 0.0], ["created_at", "2021-12-13 08:16:58.775027"], ["updated_at", "2021-12-13 08:16:58.775027"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:44955/stores/3
Completed 302 Found in 49ms (ActiveRecord: 45.1ms | Allocations: 2052)
Started GET "/stores/3" for 127.0.0.1 at 2021-12-13 15:16:58 +0700
Processing by StoresController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  Rendered stores/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1845)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 87)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 4000)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.4ms | Allocations: 4973)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
UsersTest: test_favorite
------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:16:59 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 3544)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms | Allocations: 4035)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:00 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/user/a
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 628)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:17:00 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (55.4ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:17:00.438527"], ["updated_at", "2021-12-13 08:17:00.438527"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.1ms | Allocations: 58)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2109)
Completed 200 OK in 62ms (Views: 2.6ms | ActiveRecord: 55.8ms | Allocations: 4541)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:00 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 38.0ms | Allocations: 7656)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 74)
  Rendered layout layouts/application.html.erb (Duration: 40.7ms | Allocations: 9807)
Completed 200 OK in 138ms (Views: 40.6ms | ActiveRecord: 0.8ms | Allocations: 21946)
Started POST "/store/jj/fav/1" for 127.0.0.1 at 2021-12-13 15:17:01 +0700
Processing by StoresController#favitem as HTML
  Parameters: {"name"=>"jj", "item_id"=>"1"}
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Create (43.3ms)[0m  [1m[32mINSERT INTO "favitems" ("item_id", "favlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["favlib_id", 3], ["created_at", "2021-12-13 08:17:01.388302"], ["updated_at", "2021-12-13 08:17:01.388302"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/store/jj
Completed 302 Found in 79ms (ActiveRecord: 43.7ms | Allocations: 4038)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:01 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 74.2ms | Allocations: 3798)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 25.4ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 101.7ms | Allocations: 5807)
Completed 200 OK in 105ms (Views: 101.7ms | ActiveRecord: 0.6ms | Allocations: 7689)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:17:01 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.1ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.9ms | Allocations: 535)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 97)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 2578)
Completed 200 OK in 31ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 4771)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
UsersTest: test_register-seller-fail
------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:02 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 3525)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 4015)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:02 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:44955/choosetype
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 322)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 15:17:02 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.1ms | Allocations: 73)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 2106)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 2563)
Started GET "/stores/new" for 127.0.0.1 at 2021-12-13 15:17:03 +0700
Processing by StoresController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 64.2ms | Allocations: 3933)
  Rendered stores/new.html.erb within layouts/application (Duration: 64.4ms | Allocations: 3992)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 83.3ms | Allocations: 6034)
Completed 200 OK in 84ms (Views: 83.7ms | ActiveRecord: 0.0ms | Allocations: 6510)
Started POST "/stores" for 127.0.0.1 at 2021-12-13 15:17:03 +0700
Processing by StoresController#create as HTML
  Parameters: {"store"=>{"name"=>"a", "password"=>"[FILTERED]", "address"=>"", "joindate(1i)"=>"2021", "joindate(2i)"=>"12", "joindate(3i)"=>"13", "rating"=>"0"}, "commit"=>"Create Store"}
  Rendering layout layouts/application.html.erb
  Rendering stores/new.html.erb within layouts/application
  Rendered stores/_form.html.erb (Duration: 42.9ms | Allocations: 5258)
  Rendered stores/new.html.erb within layouts/application (Duration: 43.1ms | Allocations: 5317)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 45.4ms | Allocations: 7352)
Completed 422 Unprocessable Entity in 97ms (Views: 45.9ms | ActiveRecord: 0.0ms | Allocations: 8373)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_remitem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:04 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1363)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 3530)
Completed 200 OK in 23ms (Views: 22.2ms | ActiveRecord: 0.0ms | Allocations: 4020)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:05 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/user/a
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 623)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:17:05 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (3.0ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:17:05.419908"], ["updated_at", "2021-12-13 08:17:05.419908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.1ms | Allocations: 58)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 2107)
Completed 200 OK in 106ms (Views: 30.0ms | ActiveRecord: 3.5ms | Allocations: 4535)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:05 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3824)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 47.7ms | Allocations: 5842)
Completed 200 OK in 51ms (Views: 47.8ms | ActiveRecord: 0.4ms | Allocations: 7721)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:17:06 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (24.5ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:17:06.234505"], ["updated_at", "2021-12-13 08:17:06.234505"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (21.4ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:17:06.263051"], ["updated_at", "2021-12-13 08:17:06.263051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/store/jj
Completed 302 Found in 58ms (ActiveRecord: 46.4ms | Allocations: 7243)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:06 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 65.5ms | Allocations: 4259)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 73.8ms | Allocations: 6270)
Completed 200 OK in 78ms (Views: 73.8ms | ActiveRecord: 0.6ms | Allocations: 8553)
Started POST "/store/rembucket/1" for 127.0.0.1 at 2021-12-13 15:17:06 +0700
Processing by StoresController#decitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.1ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."item_id" = ? AND "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["item_id", 1], ["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Bucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/store/jj
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1756)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:07 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 64.5ms | Allocations: 3790)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 83.8ms | Allocations: 5799)
Completed 200 OK in 87ms (Views: 84.0ms | ActiveRecord: 0.5ms | Allocations: 7660)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
UsersTest: test_register-buyer-fail
-----------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:07 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 3525)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 4015)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:08 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:44955/choosetype
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 328)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 15:17:08 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 0.3ms | Allocations: 73)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 2106)
Completed 200 OK in 8ms (Views: 2.9ms | ActiveRecord: 0.0ms | Allocations: 2557)
Started GET "/users/new" for 127.0.0.1 at 2021-12-13 15:17:08 +0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 92.3ms | Allocations: 12393)
  Rendered users/new.html.erb within layouts/application (Duration: 92.8ms | Allocations: 12719)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 123.3ms | Allocations: 14896)
Completed 200 OK in 124ms (Views: 123.6ms | ActiveRecord: 0.0ms | Allocations: 15550)
Started POST "/users" for 127.0.0.1 at 2021-12-13 15:17:09 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]", "email"=>"", "name"=>"", "address"=>"", "phone"=>"", "gender"=>"", "birthdate(1i)"=>"2021", "birthdate(2i)"=>"12", "birthdate(3i)"=>"13"}, "commit"=>"Create User"}
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 5.4ms | Allocations: 6707)
  Rendered users/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 6766)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 8802)
Completed 422 Unprocessable Entity in 18ms (Views: 16.4ms | ActiveRecord: 0.0ms | Allocations: 9993)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_buyitem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:09 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 3536)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 4027)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:10 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/user/a
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 629)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:17:10 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (27.0ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:17:10.543839"], ["updated_at", "2021-12-13 08:17:10.543839"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.1ms | Allocations: 58)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2107)
Completed 200 OK in 34ms (Views: 2.5ms | ActiveRecord: 27.4ms | Allocations: 4530)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:10 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3824)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 70.1ms | Allocations: 5833)
Completed 200 OK in 107ms (Views: 70.1ms | ActiveRecord: 0.4ms | Allocations: 7719)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:17:11 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (3.0ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:17:11.573916"], ["updated_at", "2021-12-13 08:17:11.573916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (8.2ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:17:11.603994"], ["updated_at", "2021-12-13 08:17:11.603994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/store/jj
Completed 302 Found in 41ms (ActiveRecord: 11.5ms | Allocations: 2177)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:11 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 21.8ms | Allocations: 4258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 6276)
Completed 200 OK in 52ms (Views: 24.2ms | ActiveRecord: 0.6ms | Allocations: 8361)
Started GET "/confirmpur/3" for 127.0.0.1 at 2021-12-13 15:17:11 +0700
Processing by StoresController#confirmpur as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (3) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/confirmpur.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/confirmpur.html.erb within layouts/application (Duration: 1.2ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 2700)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms | Allocations: 3902)
Started POST "/confirmpur/1" for 127.0.0.1 at 2021-12-13 15:17:12 +0700
Processing by StoresController#recordpur as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Create (32.1ms)[0m  [1m[32mINSERT INTO "orders" ("purdate", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["purdate", "2021-12-13"], ["created_at", "2021-12-13 08:17:12.527724"], ["updated_at", "2021-12-13 08:17:12.527724"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrderline Create (2.0ms)[0m  [1m[32mINSERT INTO "orderlines" ("item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["item_id", 1], ["quantity", 1], ["soldprice", 50], ["order_id", 3], ["created_at", "2021-12-13 08:17:12.621993"], ["updated_at", "2021-12-13 08:17:12.621993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBucketlib Load (0.1ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:44955/tracking
Completed 302 Found in 159ms (ActiveRecord: 75.3ms | Allocations: 8474)
Started GET "/tracking" for 127.0.0.1 at 2021-12-13 15:17:12 +0700
Processing by UsersController#track as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mOrderline Load (0.1ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/track.html.erb within layouts/application
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered users/track.html.erb within layouts/application (Duration: 0.9ms | Allocations: 616)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 2634)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms | Allocations: 3810)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_comment
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:13 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 3525)
Completed 200 OK in 77ms (Views: 76.2ms | ActiveRecord: 0.0ms | Allocations: 4015)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:13 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/user/a
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 626)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:17:13 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (34.4ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:17:13.946725"], ["updated_at", "2021-12-13 08:17:13.946725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.1ms | Allocations: 58)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2107)
Completed 200 OK in 41ms (Views: 2.5ms | ActiveRecord: 34.8ms | Allocations: 4533)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:14 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 5828)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.4ms | Allocations: 7719)
Started POST "/comment" for 127.0.0.1 at 2021-12-13 15:17:14 +0700
Processing by StoresController#addcomment as HTML
  Parameters: {"rating"=>{"store_id"=>"1", "user_id"=>"3", "ratescore"=>"5", "comment"=>"JOOOOJO"}, "commit"=>"Create Rating"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRating Create (5.5ms)[0m  [1m[32mINSERT INTO "ratings" ("comdate", "ratescore", "comment", "user_id", "created_at", "updated_at", "store_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["comdate", "2021-12-13"], ["ratescore", 5.0], ["comment", "JOOOOJO"], ["user_id", 3], ["created_at", "2021-12-13 08:17:14.873971"], ["updated_at", "2021-12-13 08:17:14.873971"], ["store_id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:44955/store/jj
Completed 302 Found in 35ms (ActiveRecord: 5.6ms | Allocations: 1866)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:14 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 39.4ms | Allocations: 4291)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | Allocations: 6311)
Completed 200 OK in 82ms (Views: 41.7ms | ActiveRecord: 0.5ms | Allocations: 8186)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------
UsersTest: test_vieworder
-------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:15 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 41.1ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 43.4ms | Allocations: 3546)
Completed 200 OK in 44ms (Views: 43.7ms | ActiveRecord: 0.0ms | Allocations: 4037)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:16 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/user/a
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 616)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:17:16 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (13.1ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:17:16.399491"], ["updated_at", "2021-12-13 08:17:16.399491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.1ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.1ms | Allocations: 58)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2107)
Completed 200 OK in 55ms (Views: 2.4ms | ActiveRecord: 13.7ms | Allocations: 4528)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:16 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.1ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 5828)
Completed 200 OK in 33ms (Views: 6.6ms | ActiveRecord: 0.5ms | Allocations: 7723)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:17:17 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (41.6ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:17:17.292712"], ["updated_at", "2021-12-13 08:17:17.292712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (30.0ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:17:17.336158"], ["updated_at", "2021-12-13 08:17:17.336158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/store/jj
Completed 302 Found in 76ms (ActiveRecord: 71.9ms | Allocations: 2195)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:17 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 43.3ms | Allocations: 4258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 45.4ms | Allocations: 6276)
Completed 200 OK in 106ms (Views: 45.5ms | ActiveRecord: 0.6ms | Allocations: 8359)
Started GET "/confirmpur/3" for 127.0.0.1 at 2021-12-13 15:17:17 +0700
Processing by StoresController#confirmpur as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (3) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering stores/confirmpur.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/confirmpur.html.erb within layouts/application (Duration: 0.8ms | Allocations: 452)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 2465)
Completed 200 OK in 21ms (Views: 3.1ms | ActiveRecord: 0.3ms | Allocations: 3484)
Started POST "/confirmpur/1" for 127.0.0.1 at 2021-12-13 15:17:18 +0700
Processing by StoresController#recordpur as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Create (20.9ms)[0m  [1m[32mINSERT INTO "orders" ("purdate", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["purdate", "2021-12-13"], ["created_at", "2021-12-13 08:17:18.290152"], ["updated_at", "2021-12-13 08:17:18.290152"], ["user_id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrderline Create (25.9ms)[0m  [1m[32mINSERT INTO "orderlines" ("item_id", "quantity", "soldprice", "order_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["item_id", 1], ["quantity", 1], ["soldprice", 50], ["order_id", 3], ["created_at", "2021-12-13 08:17:18.313697"], ["updated_at", "2021-12-13 08:17:18.313697"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketitem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bucketitems" WHERE "bucketitems"."id" = ?[0m  [["id", 980190963]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBucketlib Destroy (0.0ms)[0m  [1m[31mDELETE FROM "bucketlibs" WHERE "bucketlibs"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:44955/tracking
Completed 302 Found in 53ms (ActiveRecord: 47.6ms | Allocations: 2905)
Started GET "/tracking" for 127.0.0.1 at 2021-12-13 15:17:18 +0700
Processing by UsersController#track as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mOrderline Load (0.0ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/track.html.erb within layouts/application
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered users/track.html.erb within layouts/application (Duration: 0.3ms | Allocations: 154)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 65)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 2172)
Completed 200 OK in 53ms (Views: 23.9ms | ActiveRecord: 0.1ms | Allocations: 3051)
Started GET "/order/3" for 127.0.0.1 at 2021-12-13 15:17:18 +0700
Processing by UsersController#vieworder as HTML
  Parameters: {"order_id"=>"3"}
  [1m[36mOrderline Load (0.1ms)[0m  [1m[34mSELECT "orderlines".* FROM "orderlines" WHERE "orderlines"."order_id" = ?[0m  [["order_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/vieworder.html.erb within layouts/application
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  Rendered users/vieworder.html.erb within layouts/application (Duration: 1.8ms | Allocations: 728)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 2754)
Completed 200 OK in 28ms (Views: 4.1ms | ActiveRecord: 0.2ms | Allocations: 3539)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
UsersTest: test_additem
-----------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:19 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1358)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 3525)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 4015)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:20 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/user/a
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 624)
Started GET "/user/a" for 127.0.0.1 at 2021-12-13 15:17:20 +0700
Processing by UsersController#userpage as HTML
  Parameters: {"username"=>"a"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "a"], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Create (44.3ms)[0m  [1m[32mINSERT INTO "favlibs" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 3], ["created_at", "2021-12-13 08:17:20.188110"], ["updated_at", "2021-12-13 08:17:20.188110"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[36mFavitem Load (0.0ms)[0m  [1m[34mSELECT "favitems".* FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Favlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering users/userpage.html.erb within layouts/application
  Rendered users/userpage.html.erb within layouts/application (Duration: 0.1ms | Allocations: 58)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 2118)
Completed 200 OK in 69ms (Views: 2.9ms | ActiveRecord: 44.7ms | Allocations: 4538)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:20 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 49.2ms | Allocations: 3854)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 51.5ms | Allocations: 5863)
Completed 200 OK in 55ms (Views: 51.6ms | ActiveRecord: 0.6ms | Allocations: 7752)
Started POST "/store/addbucket/1" for 127.0.0.1 at 2021-12-13 15:17:20 +0700
Processing by StoresController#incitem as HTML
  Parameters: {"item_id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "bucketlibs"."id" FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mBucketlib Create (24.9ms)[0m  [1m[32mINSERT INTO "bucketlibs" ("user_id", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["quantity", 1], ["created_at", "2021-12-13 08:17:20.990202"], ["updated_at", "2021-12-13 08:17:20.990202"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mBucketitem Create (44.6ms)[0m  [1m[32mINSERT INTO "bucketitems" ("item_id", "bucketlib_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["item_id", 1], ["bucketlib_id", 2], ["created_at", "2021-12-13 08:17:21.017139"], ["updated_at", "2021-12-13 08:17:21.017139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mItem Load (24.9ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://127.0.0.1:44955/store/jj
Completed 302 Found in 100ms (ActiveRecord: 94.7ms | Allocations: 2195)
Started GET "/store/jj" for 127.0.0.1 at 2021-12-13 15:17:21 +0700
Processing by StoresController#storepage as HTML
  Parameters: {"name"=>"jj"}
  [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."name" = ? LIMIT ?[0m  [["name", "jj"], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mTaglib Load (0.0ms)[0m  [1m[34mSELECT "taglibs".* FROM "taglibs" INNER JOIN "itemtags" ON "taglibs"."id" = "itemtags"."taglib_id" WHERE "itemtags"."item_id" = ?[0m  [["item_id", 1]]
  [1m[36mBucketlib Load (0.0ms)[0m  [1m[34mSELECT "bucketlibs".* FROM "bucketlibs" WHERE "bucketlibs"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mBucketitem Load (0.0ms)[0m  [1m[34mSELECT "bucketitems".* FROM "bucketitems" WHERE "bucketitems"."bucketlib_id" = ? LIMIT ?[0m  [["bucketlib_id", 2], ["LIMIT", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mFavlib Load (0.0ms)[0m  [1m[34mSELECT "favlibs".* FROM "favlibs" WHERE "favlibs"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "favitems"."item_id" FROM "favitems" WHERE "favitems"."favlib_id" = ?[0m  [["favlib_id", 3]]
  Rendering layout layouts/application.html.erb
  Rendering stores/storepage.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "cover"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Store"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mCACHE Item Load (0.0ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Item"], ["name", "pic"], ["LIMIT", 1]]
  [1m[36mRating Load (0.0ms)[0m  [1m[34mSELECT "ratings".* FROM "ratings" WHERE "ratings"."store_id" = ?[0m  [["store_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered stores/storepage.html.erb within layouts/application (Duration: 42.0ms | Allocations: 4258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 64)
  Rendered layout layouts/application.html.erb (Duration: 44.6ms | Allocations: 6278)
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 0.5ms | Allocations: 8367)
  [1m[36mTRANSACTION (18.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UsersTest: test_register-buyer-success
--------------------------------------
Started GET "/login" for 127.0.0.1 at 2021-12-13 15:17:21 +0700
Processing by UsersController#login as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/login.html.erb within layouts/application
  Rendered users/login.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1368)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 3546)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 4037)
Started POST "/login" for 127.0.0.1 at 2021-12-13 15:17:22 +0700
Processing by UsersController#recieve_login_info as HTML
  Parameters: {"user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Register"}
Redirected to http://127.0.0.1:44955/choosetype
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 330)
Started GET "/choosetype" for 127.0.0.1 at 2021-12-13 15:17:22 +0700
Processing by UsersController#choosetype as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/choosetype.html.erb within layouts/application
  Rendered users/choosetype.html.erb within layouts/application (Duration: 20.7ms | Allocations: 73)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 80)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 2106)
Completed 200 OK in 27ms (Views: 27.0ms | ActiveRecord: 0.0ms | Allocations: 2561)
Started GET "/users/new" for 127.0.0.1 at 2021-12-13 15:17:22 +0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.0ms | Allocations: 5470)
  Rendered users/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 5529)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 79)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 7560)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 8046)
Started POST "/users" for 127.0.0.1 at 2021-12-13 15:17:23 +0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"a", "password"=>"[FILTERED]", "email"=>"", "name"=>"", "address"=>"", "phone"=>"", "gender"=>"", "birthdate(1i)"=>"2021", "birthdate(2i)"=>"12", "birthdate(3i)"=>"13"}, "commit"=>"Create User"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "email", "name", "address", "phone", "gender", "birthdate", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["username", "a"], ["password_digest", "$2a$04$ObKqGsZHiALrdaHJQJVvh.mmXU6eO1nqhdNk6bxeVJpmtto/fgBkC"], ["email", ""], ["name", ""], ["address", ""], ["phone", ""], ["gender", ""], ["birthdate", "2021-12-13"], ["created_at", "2021-12-13 08:17:23.395910"], ["updated_at", "2021-12-13 08:17:23.395910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:44955/users/4
Completed 302 Found in 23ms (ActiveRecord: 5.3ms | Allocations: 1633)
Started GET "/users/4" for 127.0.0.1 at 2021-12-13 15:17:23 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 901)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 86)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 2942)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms | Allocations: 3694)
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[31mrollback transaction[0m
